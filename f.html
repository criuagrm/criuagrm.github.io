<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionarios de Filosofía y Antropología</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #34495e;
            --accent: #3498db;
            --success: #27ae60;
            --error: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --purple: #9b59b6;
            --orange: #e67e22;
            --teal: #16a085;
            --indigo: #3f51b5;
            --maroon: #c0392b;
            --gold: #f1c40f;
            --midnight: #192a56;
            --final-gradient: linear-gradient(135deg, #FF416C 0%, #FF4B2B 100%);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background: white;
            max-width: 800px;
            width: 90%;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 600px;
        }

        /* Pantalla de Menú */
        .menu-screen {
            padding: 40px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
            flex: 1;
        }

        .menu-screen h1 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.8rem;
        }

        .menu-screen p {
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1rem;
        }

        .buttons-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .theme-btn {
            background: white;
            border: 2px solid var(--accent);
            color: var(--accent);
            padding: 15px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .theme-btn:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }

        /* Botón especial para el examen final */
        .final-exam-btn {
            grid-column: span 2; /* Ocupa todo el ancho */
            background: var(--final-gradient);
            color: white;
            border: none;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 15px;
        }

        .final-exam-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(255, 75, 43, 0.4);
            color: white;
        }

        /* Pantalla de Quiz */
        .quiz-screen {
            display: none;
            padding: 30px;
            flex: 1;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--light);
            padding-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .badge {
            background: var(--accent);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        #timer {
            font-weight: bold;
            color: var(--error);
            font-size: 1.2rem;
        }

        .question-text {
            font-size: 1.3rem;
            color: var(--dark);
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            background: #fff;
            border: 2px solid #e0e0e0;
            padding: 15px 20px;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            color: #555;
            position: relative;
            word-wrap: break-word;
            white-space: normal;
        }

        .option-btn:hover:not(.disabled) {
            border-color: var(--accent);
            background: #f8fbff;
        }

        .option-btn.correct {
            border-color: var(--success);
            background-color: #d4edda;
            color: #155724;
        }

        .option-btn.wrong {
            border-color: var(--error);
            background-color: #f8d7da;
            color: #721c24;
        }

        .option-btn.disabled {
            cursor: default;
        }

        /* Pantalla de Resultados */
        .result-screen {
            display: none;
            text-align: center;
            padding: 40px;
            flex: 1;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--accent);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            font-weight: bold;
            margin: 20px auto;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
        }

        .actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
        }

        .btn {
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            border: none;
            transition: 0.2s;
            min-width: 150px;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background: #2c3e50;
        }

        #next-btn {
            margin-top: 20px;
            width: 100%;
            display: none;
        }

        /* Media Queries */
        @media (max-width: 768px) {
            .container {
                width: 95%;
            }
            .buttons-container {
                grid-template-columns: 1fr;
            }
            .final-exam-btn {
                grid-column: span 1;
            }
            .menu-screen {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    
    <div id="menu-area" class="menu-screen">
        <h1>Banco de Preguntas</h1>
        <p>Selecciona un tema o realiza el Examen Final</p>
        
        <div class="buttons-container">
            <button class="theme-btn" onclick="startQuiz(1)">Tema 1: Proyectos</button>
            <button class="theme-btn" onclick="startQuiz(2)">Tema 2: Antropología</button>
            <button class="theme-btn" onclick="startQuiz(3)">Tema 3: Antropología Cont.</button>
            <button class="theme-btn" onclick="startQuiz(4)">Tema 4: Filosofía General</button>
            <button class="theme-btn" onclick="startQuiz(5)">Tema 6: Ser Humano LatAm</button>
            <button class="theme-btn" onclick="startQuiz(6)">Tema 7: Ética y Moral</button>
            <button class="theme-btn" onclick="startQuiz(7)">Tema 8: Filosofía Política</button>
            <button class="theme-btn" onclick="startQuiz(8)">Tema 9: Democracia</button>
            <button class="theme-btn" onclick="startQuiz(9)">Tema 10: Fil. Derecho</button>
            
            <!-- BOTÓN EXAMEN FINAL -->
            <button class="theme-btn final-exam-btn" onclick="startQuiz('final')">
                ★ EXAMEN FINAL (Temas 6-10) ★
            </button>
        </div>
    </div>

    <div id="quiz-area" class="quiz-screen">
        <div class="header">
            <div class="badge" id="topic-badge">Tema 1</div>
            <div id="progress">1 / 10</div>
            <div id="timer">05:00</div>
        </div>

        <div id="question-text" class="question-text"></div>
        <div id="options" class="options-grid"></div>

        <button id="next-btn" class="btn btn-primary" onclick="nextQuestion()">Siguiente Pregunta</button>
    </div>

    <div id="result-area" class="result-screen">
        <h2>Resultados</h2>
        <p id="result-message">¡Has completado el cuestionario!</p>
        <div class="score-circle" id="final-score">0/10</div>
        <div class="actions">
            <button class="btn btn-primary" onclick="restartQuiz()">Reintentar</button>
            <button class="btn btn-secondary" onclick="goToMenu()">Volver al Menú</button>
        </div>
    </div>

</div>

<script>
    // BANCOS DE PREGUNTAS (Temas 1-4 resumidos para no saturar, Temas 6-10 completos)
    
    const bancoTema1 = [
        { q: "¿Cuál es el propósito central de los proyectos de transformación social?", options: ["Beneficios individuales", "Cambios profundos y sostenibles", "Políticas estatales", "Control externo"], a: 1 },
        { q: "La transformación social implica:", options: ["Solo economía", "Sustituir organización", "Fortalecer autonomía y conciencia crítica", "Modelos externos"], a: 2 },
        { q: "¿Qué caracteriza a los proyectos comunitarios?", options: ["Centralización", "Procesos participativos", "Exclusión local", "Dependencia"], a: 1 },
        { q: "La sostenibilidad implica:", options: ["Financiamiento eterno", "Mantener beneficios en el tiempo", "Cierre rápido", "Repetición"], a: 1 },
        { q: "¿Qué es el diagnóstico participativo?", options: ["Hecho por expertos", "Identifica problemas desde la comunidad", "Excluye locales", "Solo al final"], a: 1 },
        { q: "La IAP combina:", options: ["Teoría y estadística", "Investigación, acción y reflexión", "Observación pasiva", "Planificación estatal"], a: 1 },
        { q: "¿Quién es el actor principal?", options: ["Privados", "La comunidad local", "Organismos", "Gobierno"], a: 1 },
        { q: "El empoderamiento se relaciona con:", options: ["Dependencia", "Fortalecimiento del liderazgo local", "Menos participación", "Pérdida autonomía"], a: 1 },
        { q: "La dependencia de ayuda externa genera:", options: ["Autogestión", "Pérdida de autonomía", "Liderazgo", "Sostenibilidad"], a: 1 },
        { q: "El respeto a la identidad implica:", options: ["Imposición", "Homogeneización", "Valoración de saberes locales", "Eliminar tradiciones"], a: 2 }
    ];

    const bancoTema2 = [
        { q: "La antropología estudia al ser humano:", options: ["Solo biológicamente", "Solo socialmente", "De manera integral (bio-psico-social-cultural)", "Solo filosóficamente"], a: 2 },
        { q: "Objetivo principal de la antropología:", options: ["Clasificar razas", "Comprender la diversidad cultural y social", "Evolución biológica", "Sustituir historia"], a: 1 },
        { q: "Antropología filosófica estudia:", options: ["Ciencias naturales", "Matemáticas", "La esencia del ser humano", "Biología pura"], a: 2 },
        { q: "Representantes del evolucionismo:", options: ["Boas", "Morgan, Tylor y Frazer", "Heidegger", "Ricoeur"], a: 1 },
        { q: "Antropología cultural estudia:", options: ["Genética", "Restos materiales", "Costumbres, normas y significados", "Cerebro"], a: 2 },
        { q: "La etnografía es:", options: ["Experimental", "Matemática", "Descripción profunda de una cultura", "Encuesta"], a: 2 },
        { q: "El trabajo de campo permite:", options: ["Sustituir teoría", "Experiencia directa", "Eliminar subjetividad", "Evitar contacto"], a: 1 },
        { q: "El ser humano como ser social:", options: ["Vive aislado", "Independiente de cultura", "Se desarrolla en comunidad/lenguaje", "Sin identidad"], a: 2 },
        { q: "Pregunta de antropología filosófica:", options: ["¿Herramientas antiguas?", "¿Idioma regional?", "¿Qué es el ser humano?", "¿Normas jurídicas?"], a: 2 },
        { q: "Observación participante:", options: ["Desde lejos", "Participar en la vida del grupo", "Sin contacto", "Solo encuestas"], a: 1 }
    ];

    const bancoTema3 = [
        { q: "Debate sobre objetividad:", options: ["Falta tecnología", "Imposible eliminar carga cultural del investigador", "Resistencia comunidad", "Falta método"], a: 1 },
        { q: "Reflexividad implica:", options: ["Opinión sin pruebas", "Análisis crítico de la posición del investigador", "Sin emociones", "Prioridad observador"], a: 1 },
        { q: "Extractivismo académico:", options: ["Excavación ilegal", "Recolectar sin retorno a la comunidad", "Mano de obra", "Competencia fondos"], a: 1 },
        { q: "Etnocentrismo:", options: ["Descripción neutra", "Evaluar desde parámetros propios como superiores", "Igualdad cultural", "Solo similitudes"], a: 1 },
        { q: "Relativismo cultural:", options: ["Comprender desde sus propios valores", "Todo vale", "Aislamiento", "Leyes universales"], a: 0 },
        { q: "Consentimiento informado:", options: ["Comercializar datos", "Asegurar comprensión y voluntariedad", "Trámite título", "Obligar verdad"], a: 1 },
        { q: "Cultura no es estática:", options: ["Transformación constante", "Viajes", "Leyes prohiben", "Nuevos términos"], a: 0 },
        { q: "Identidades híbridas:", options: ["Aislamiento", "Mezcla por globalización", "Imposición única", "Genética"], a: 1 },
        { q: "Agencia de la comunidad:", options: ["Oficina censo", "Capacidad de actuar y decidir", "Contrato", "Velocidad tecnológica"], a: 1 },
        { q: "Confidencialidad:", options: ["No mostrar resultados", "Proteger identidad", "Vender datos", "Borrar todo"], a: 1 }
    ];

    const bancoTema4 = [
        { q: "Diferencia logos vs mito:", options: ["Fe vs Observación", "Argumentos racionales vs Relatos sobrenaturales", "Antigüedad", "Arte"], a: 1 },
        { q: "Actitud crítica:", options: ["Aceptar todo", "Juzgar mal", "Cuestionar creencias", "Buscar errores"], a: 2 },
        { q: "Arjé buscaba:", options: ["Política", "Principio/origen de todo", "Vida eterna", "Dioses"], a: 1 },
        { q: "Sócrates método:", options: ["Retórica", "Mayéutica", "Escolástica", "Empirismo"], a: 1 },
        { q: "Platón Mundo Ideas:", options: ["Centro Tierra", "Verdadero, eterno, inmutable", "Fantasía", "Sensible"], a: 1 },
        { q: "Aristóteles crítica Platón:", options: ["No existen ideas", "Realidad está en este mundo (sustancia)", "Solo sueños", "Lógica no sirve"], a: 1 },
        { q: "Descartes base:", options: ["Sentidos", "Razón/Pienso luego existo", "Tradición", "Fe"], a: 1 },
        { q: "Hume conocimiento:", options: ["Pensamiento puro", "Experiencia/Impresiones", "Libros", "Magia"], a: 1 },
        { q: "Kant conocimiento:", options: ["Solo sentidos", "Unión sensibilidad + entendimiento", "Imposible", "Solo razón"], a: 1 },
        { q: "Ética estudia:", options: ["Metafísica", "Estética", "Conducta/Lo correcto", "Lógica"], a: 2 }
    ];

    // --- TEMAS EXAMEN FINAL (COMPLETOS) ---

    const bancoTema6 = [
        { q: "En las sociedades prehispánicas, la identidad se basaba en:", options: ["Acumulación", "Pertenencia comunitaria", "Poder individual", "Competencia"], a: 1 },
        { q: "Para los pueblos andinos, el ser humano era:", options: ["Dueño naturaleza", "Separado entorno", "Parte de la Pachamama", "Superior"], a: 2 },
        { q: "Valor del individuo en culturas originarias:", options: ["Riqueza", "Liderazgo militar", "Contribución al bien común", "Educación"], a: 2 },
        { q: "Principio del ayni:", options: ["Trabajo forzado", "Ayuda mutua y recíproca", "Comercio", "Castigo"], a: 1 },
        { q: "La minka era:", options: ["Trabajo pagado", "Solo estatal", "Trabajo colectivo comunitario", "Religioso"], a: 2 },
        { q: "Cosmovisión indígena tiempo:", options: ["Individualismo", "Cíclico", "Lineal", "Tecnológico"], a: 1 },
        { q: "Choque cultural colonización:", options: ["Clima", "Comercio", "Visiones opuestas mundo", "Idioma"], a: 2 },
        { q: "Indígenas vistos por europeos como:", options: ["Ciudadanos", "Socios", "Superiores", "Inferiores/Menores"], a: 3 },
        { q: "Esclavización africana implicó:", options: ["Integración", "Reconocimiento", "Deshumanización/Mercancía", "Igualdad"], a: 2 },
        { q: "Racismo colonial cima:", options: ["Indígenas", "Afro", "Mestizos", "Blancos"], a: 3 },
        { q: "Mestizaje es proceso:", options: ["Solo racial", "Biológico y cultural", "Solo siglo XIX", "Sin impacto"], a: 1 },
        { q: "Criollos eran:", options: ["Indígenas", "Esclavos", "Hijos europeos nacidos América", "Mestizos"], a: 2 },
        { q: "Independencias noción ser humano:", options: ["Súbdito", "Ciudadano", "Siervo", "Enemigo"], a: 1 },
        { q: "Contradicción independencia:", options: ["Sin privilegios", "Inclusión indígena", "Poder élites criollas", "Fin racismo"], a: 2 },
        { q: "Identidad latinoamericana:", options: ["Un grupo", "Rechazo pasado", "Mestizaje/Valores comunitarios", "Homogeneidad"], a: 2 },
        { q: "Urbanización s.XX:", options: ["Fin desigualdad", "Culturas híbridas urbanas", "Retorno campo", "Fin identidad"], a: 1 },
        { q: "Mujeres s.XX:", options: ["Retroceso", "Exclusión", "Transformación roles", "Pérdida derechos"], a: 2 },
        { q: "Movimientos indígenas s.XX:", options: ["Aislamiento", "Reconocimiento/Tierra", "Migración", "Fin Estado"], a: 1 },
        { q: "Plurinacionalidad:", options: ["Fragmentación", "Negación", "Reconocimiento múltiples naciones", "Supresión"], a: 2 },
        { q: "Desafío actual:", options: ["Exceso empleo", "Desigualdad social", "Abundancia", "Estabilidad"], a: 1 },
        { q: "Filosofía Liberación critica:", options: ["Indígenas", "Dominación eurocéntrica", "Mestizaje", "Sociales"], a: 1 },
        { q: "Enrique Dussel propone:", options: ["Modelos europeos", "Desde realidad latinoamericana", "Positivismo", "Neutralidad"], a: 1 },
        { q: "Ser humano latinoamericano actual:", options: ["Homogéneo", "Pasivo", "Plural, complejo, resistente", "Ajeno"], a: 2 }
    ];

    const bancoTema7 = [
        { q: "Ética vs Moral:", options: ["Emociones", "Análisis racional (ética) vs Práctica (moral)", "Religión", "Sustitución"], a: 1 },
        { q: "Ética cuestiona ley:", options: ["Regulación", "Control", "Conservación", "Evaluación crítica"], a: 3 },
        { q: "Universalidad ética:", options: ["Uniformidad", "Académica", "Principios válidos todos", "Imposición"], a: 2 },
        { q: "Moral afectiva:", options: ["Reacciones (culpa/aprobación)", "Sin reglas", "Universal", "Racional"], a: 0 },
        { q: "Trabajo infantil demuestra moral:", options: ["Sin normas", "Irracional", "Inmutable", "Varía según contexto"], a: 3 },
        { q: "Autonomía se viola:", options: ["Responsabilidad", "Decisión libre", "Presión/Manipulación", "Convicción"], a: 2 },
        { q: "Kant fin en sí mismo:", options: ["Subordinar", "Consecuencias", "Utilidad", "Dignidad intrínseca"], a: 3 },
        { q: "Beneficencia vs No maleficencia:", options: ["Iguales", "Hacer bien vs No dañar", "Medicina", "Jurídico"], a: 1 },
        { q: "Justicia ética incluye:", options: ["Neutralidad", "Obediencia", "Distribución equitativa", "Competencia"], a: 2 },
        { q: "Rawls sociedad justa:", options: ["Eficiencia", "Sin desigualdad", "Derechos iguales/Oportunidades", "Mayoría"], a: 2 },
        { q: "Hans Jonas responsabilidad:", options: ["Corto plazo", "Moral indiv", "Pasado", "Futuro/Tecnología"], a: 3 },
        { q: "Aristóteles felicidad:", options: ["Consenso", "Placer", "Deber", "Virtudes"], a: 3 },
        { q: "Estoicismo:", options: ["Placer", "Transformar", "Aceptar racionalmente", "Sin emoción"], a: 2 },
        { q: "Ética cristiana:", options: ["Contrato", "Relativismo", "Amor prójimo", "Utilidad"], a: 2 },
        { q: "Deontologismo Kant:", options: ["Consenso", "Consecuencia", "Felicidad", "Deber universalizable"], a: 3 },
        { q: "Utilitarismo justifica injusticia si:", options: ["Mayor felicidad colectiva", "Viola ley", "Sin intención", "Tradición"], a: 0 },
        { q: "Ética ecológica:", options: ["Justicia", "Dominio ilimitado (crítica)", "Responsabilidad", "Dignidad"], a: 1 },
        { q: "Bioética respuesta a:", options: ["Costumbres", "Tradición", "Avances científicos/Dilemas", "Política"], a: 2 },
        { q: "Relativismo moral problema:", options: ["Rigidez", "Exceso", "Ausencia valores universales", "Imposición"], a: 2 },
        { q: "Ética Liberación Dussel:", options: ["Cristiana", "Eurocentrismo", "Priorizar excluidos/víctimas", "Rechazar justicia"], a: 2 }
    ];

    const bancoTema8 = [
        { q: "Filosofía política analiza:", options: ["Conducta indiv", "Técnica gob", "Poder y legitimidad", "Historia"], a: 2 },
        { q: "Pregunta central:", options: ["¿Conocimiento?", "¿Eficiencia?", "¿Legitimidad poder?", "¿Moral?"], a: 2 },
        { q: "Justicia social busca:", options: ["Obediencia", "Condiciones dignas/Equidad", "Uniformidad", "Sin desigualdad"], a: 1 },
        { q: "Justicia social no es igualdad absoluta:", options: ["Legitima", "Leyes bastan", "Libertad", "Reconoce condiciones distintas partida"], a: 3 },
        { q: "Bien común:", options: ["Mayoría", "Estado", "Equilibrio derechos indiv/colectivos", "Sin conflicto"], a: 2 },
        { q: "Libertad vs Poder:", options: ["Supremacía indiv", "Estado ilimitado", "Equilibrio regulado", "Subordinación"], a: 2 },
        { q: "Sociedad injusta (DDHH):", options: ["Diversidad", "Diferencias", "Consumo", "No garantiza derechos"], a: 3 },
        { q: "Platón justicia:", options: ["Igualdad", "Armonía/Orden", "Voluntad", "Propiedad"], a: 1 },
        { q: "Aristóteles justicia:", options: ["Igualdad absoluta", "Ley", "Dar a cada quien lo suyo", "Necesidades"], a: 2 },
        { q: "Justicia correctiva:", options: ["Redistribuir", "Igualdad pol", "Orden", "Restablecer equilibrio"], a: 3 },
        { q: "Hobbes Estado:", options: ["Igualdad", "Derechos nat", "Evitar guerra todos contra todos", "Voluntad"], a: 2 },
        { q: "Locke función Estado:", options: ["Economía", "Igualdad mat", "Proteger derechos naturales (Propiedad)", "Colectiva"], a: 2 },
        { q: "Rousseau injusticia:", options: ["Poder pueblo", "Voluntad gen", "Leyes", "Poder intereses particulares"], a: 3 },
        { q: "Marx injusticia:", options: ["Moral", "Ley", "Estructura económica/Clases", "Sin Estado"], a: 2 },
        { q: "Marx objetivo:", options: ["Igualdad jur", "Democracia", "Propiedad priv", "Sociedad sin clases"], a: 3 },
        { q: "Rawls diferencia:", options: ["Injusta", "Inevitable", "Desigualdad debe beneficiar a desfavorecidos", "Mérito"], a: 2 },
        { q: "Amartya Sen:", options: ["Libertad", "PIB", "Derechos", "Capacidades reales"], a: 3 },
        { q: "Fil. Política y Democracia:", options: ["Legitima todo", "Ciudadanos críticos", "Sustituye", "Elimina conflicto"], a: 2 },
        { q: "Sociedad justa hoy:", options: ["Igualdad res", "Bien común + Derechos + Diversidad", "Obediencia", "Mínimo Estado"], a: 1 }
    ];

    const bancoTema9 = [
        { q: "Democracia se legitima por:", options: ["Tradición", "Estado", "Consentimiento pueblo", "Moral"], a: 2 },
        { q: "Democracia cultura política:", options: ["Elecciones", "Obediencia", "Diálogo/Pluralismo", "Neutralidad"], a: 2 },
        { q: "Soberanía popular:", options: ["Expertos", "Voluntad ciudadana", "Dinero", "Tradición"], a: 1 },
        { q: "Democracia representativa:", options: ["Directa", "Militar", "Elección representantes", "Sin partidos"], a: 2 },
        { q: "Democracia participativa:", options: ["Sustituir", "Reducir", "Eliminar", "Ampliar intervención ciudadana"], a: 3 },
        { q: "Ejemplo democracia directa:", options: ["Parlamento", "Referendo", "Gabinete", "Judicial"], a: 1 },
        { q: "Participación fortalece:", options: ["Decisiones inclusivas", "Elimina conflicto", "Debilita", "Reduce pluralidad"], a: 0 },
        { q: "Contrato social origen:", options: ["Religioso", "Imposición", "Pacto implícito", "Herencia"], a: 2 },
        { q: "Aceptamos leyes para:", options: ["Privilegios", "Evitar política", "Seguridad y convivencia", "Supremacía"], a: 2 },
        { q: "Hobbes naturaleza:", options: ["Cooperación", "Libertad", "Igualdad", "Conflicto permanente"], a: 3 },
        { q: "Hobbes poder fuerte:", options: ["Soberanía", "Orden y paz", "Democracia", "Igualdad"], a: 1 },
        { q: "Locke fin contrato:", options: ["Proteger derechos naturales", "Absolutismo", "Sin propiedad", "Militar"], a: 0 },
        { q: "Locke gobierno viola:", options: ["Obedecer", "Fortalecer", "Reemplazado legítimamente", "Eliminar Estado"], a: 2 },
        { q: "Rousseau democracia:", options: ["Estado", "Voluntad general", "Tradición", "Económico"], a: 1 },
        { q: "Voluntad general:", options: ["Suma indiv", "Opinión mayoría", "Interés común", "Ley natural"], a: 2 },
        { q: "Democracia vs Autorit:", options: ["Centraliza", "Limita y controla poder", "Sin inst", "Reduce"], a: 1 },
        { q: "Rendición cuentas:", options: ["Sin control", "Solo judicial", "Justificar públicamente", "Solo elecciones"], a: 2 },
        { q: "Incumplimiento contrato:", options: ["Renunciar", "Exigir cambios democráticos", "Autoritarismo", "Abandonar"], a: 1 },
        { q: "Relación Demo/Contrato:", options: ["Obediencia", "Tradición", "Consentimiento", "Militar"], a: 2 },
        { q: "Derecho fundamental:", options: ["Libertad expresión", "Obediencia", "Exclusión", "Imposición"], a: 0 },
        { q: "Deber ciudadano:", options: ["Controlar todo", "Participar responsablemente", "Sin normas", "Imponer"], a: 1 },
        { q: "Convivencia pacífica:", options: ["Represión", "Imposición", "Respeto normas comunes", "Sin conflicto"], a: 2 },
        { q: "Desafíos democracia:", options: ["Participación", "Elecciones", "Desigualdad y corrupción", "Leyes"], a: 2 },
        { q: "Ciudadanía informada:", options: ["Debilita", "Reduce", "Fortalece instituciones", "Elimina"], a: 2 },
        { q: "Democracia forma vida:", options: ["Solo votar", "Compromiso ético permanente", "Neutralidad", "Autoridad"], a: 1 },
        { q: "Exclusión social:", options: ["Limita participación", "Estabilidad", "Reduce conflicto", "Fortalece"], a: 0 },
        { q: "Control social:", options: ["Concentrar", "Eliminar", "Fiscalizar Estado", "Reducir derechos"], a: 2 },
        { q: "Bien común:", options: ["Imposición", "Autoridad", "Diálogo y consenso", "Privados"], a: 2 },
        { q: "Reflexión filosófica:", options: ["Justificar", "Eliminar", "Comprender y mejorar", "Sustituir"], a: 2 }
    ];

    const bancoTema10 = [
        { q: "Fil. Derecho vs Positivo:", options: ["Sanciones", "Procedimientos", "Análisis crítico fundamento", "Códigos"], a: 2 },
        { q: "Ley legal pero injusta:", options: ["Democrática", "Viola DDHH", "Tribunales", "Constitución"], a: 1 },
        { q: "Legitimidad ley:", options: ["Antigüedad", "Sanciones", "Jueces", "Aceptación ética/social"], a: 3 },
        { q: "Fil. Derecho busca:", options: ["Penales", "Justicia y sentido", "Memorizar", "Contratos"], a: 1 },
        { q: "Convivencia normas:", options: ["Eliminan libertad", "Control", "Organizan interacción", "Evitan"], a: 2 },
        { q: "Modificar leyes injustas:", options: ["Inmutable", "Natural", "Exclusivo", "Construcción humana cambiante"], a: 3 },
        { q: "Derecho y Moral:", options: ["Mismo", "Ignora", "Inspiración ideal", "Estado"], a: 2 },
        { q: "Vida cotidiana:", options: ["Judicial", "Contratos", "Votos", "Actos cotidianos regulados"], a: 3 },
        { q: "Pensamiento crítico:", options: ["Obedecer", "Analizar justicia", "Eliminar moral", "Jurisprudencia"], a: 1 },
        { q: "Derecho busca:", options: ["Bien común", "Grupos", "Limitar", "Evitar"], a: 0 },
        { q: "Resp. Jurídica vs Moral:", options: ["Solo moral", "Sanciones legales formales", "Estado", "Voluntaria"], a: 1 },
        { q: "Ciudadanos democráticos:", options: ["Obedecer", "Delegar", "Participar críticamente", "Evitar"], a: 2 },
        { q: "Justicia concepto:", options: ["Económico", "Igualdad y dignidad", "Tradición", "Política"], a: 1 },
        { q: "Limita conductas para:", options: ["Autonomía", "Pensamientos", "Estado", "Proteger derechos colectivos"], a: 3 },
        { q: "Función preventiva:", options: ["Evitar daños antes", "Castigar", "Ignorar", "Limitar"], a: 0 },
        { q: "Origen Estado:", options: ["Reemplazar", "Entender legitimidad", "Historia", "Negar"], a: 1 },
        { q: "Ley respeta DDHH:", options: ["Tradicional", "Natural", "Legítima y justa", "Parcial"], a: 2 },
        { q: "Libertad vs Normas:", options: ["Desaparición", "Equilibrio", "Dominio", "Eliminación"], a: 1 },
        { q: "Importante hoy:", options: ["Elimina", "Analizar problemas complejos", "Sustituir", "Reduce"], a: 1 },
        { q: "Legalidad vs Legitimidad:", options: ["Origen", "Juez", "Constitución", "Justicia ética"], a: 3 },
        { q: "Esencial convivencia:", options: ["Evita", "Garantiza orden/protección", "Elimina", "Sustituye"], a: 1 },
        { q: "Participación:", options: ["Votar", "Obedecer", "Analizar/Cuestionar/Mejorar", "Delegar"], a: 2 },
        { q: "Ley injusta debe:", options: ["Obedecer", "Ignorar", "Modificarse democráticamente", "Selectiva"], a: 2 },
        { q: "Derecho positivo:", options: ["Moral", "Leyes vigentes", "Valores", "Costumbres"], a: 1 },
        { q: "Ética aporta:", options: ["Sanciones", "Procedimientos", "Valores orientan justicia", "Reglamentos"], a: 2 },
        { q: "Fomenta:", options: ["Obediencia", "Pensamiento crítico", "Dependencia", "Eliminación"], a: 1 },
        { q: "Dignidad humana:", options: ["Sanciones", "Limita", "Igualdad ante ley", "Privilegios"], a: 2 },
        { q: "Existencia normas:", options: ["Sociedad necesita organización", "Eliminar libertad", "Moral inec", "Control"], a: 0 },
        { q: "Justicia social:", options: ["Formal", "Distribución equitativa", "Eliminación", "Económico"], a: 1 },
        { q: "Objetivo final:", options: ["Control", "Poder", "Tradición", "Justicia, dignidad, convivencia"], a: 3 }
    ];

    /* =========================================
       LÓGICA
       ========================================= */

    let currentQuestions = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let timeLeft = 300;
    let timerInterval;
    let currentThemeId = 1;
    let isFinalExam = false;

    // Referencias
    const menuArea = document.getElementById('menu-area');
    const quizArea = document.getElementById('quiz-area');
    const resultArea = document.getElementById('result-area');
    const topicBadge = document.getElementById('topic-badge');
    const timerDisplay = document.getElementById('timer');
    const nextBtn = document.getElementById('next-btn');

    function startQuiz(themeId) {
        currentThemeId = themeId;
        isFinalExam = (themeId === 'final');
        
        let questionsPool = [];
        let themeName = "";
        let badgeColor = "";
        let limit = 10; // Por defecto 10 preguntas
        let time = 300; // 5 mins por defecto

        if (isFinalExam) {
            // LÓGICA EXAMEN FINAL
            // 1. Combinar temas 6, 7, 8, 9, 10
            questionsPool = [
                ...bancoTema6, 
                ...bancoTema7, 
                ...bancoTema8, 
                ...bancoTema9, 
                ...bancoTema10
            ];
            
            themeName = "EXAMEN FINAL";
            badgeColor = "var(--final-gradient)"; // Gradiente especial
            limit = 20; // 20 preguntas para el examen final
            time = 600; // 10 minutos para el examen final
            
        } else {
            // Lógica normal
            switch(themeId) {
                case 1: questionsPool = bancoTema1; themeName = "Tema 1"; badgeColor = "var(--accent)"; break;
                case 2: questionsPool = bancoTema2; themeName = "Tema 2"; badgeColor = "var(--success)"; break;
                case 3: questionsPool = bancoTema3; themeName = "Tema 3"; badgeColor = "var(--purple)"; break;
                case 4: questionsPool = bancoTema4; themeName = "Tema 4"; badgeColor = "var(--orange)"; break;
                case 5: questionsPool = bancoTema6; themeName = "Tema 6"; badgeColor = "var(--teal)"; break;
                case 6: questionsPool = bancoTema7; themeName = "Tema 7"; badgeColor = "var(--indigo)"; break;
                case 7: questionsPool = bancoTema8; themeName = "Tema 8"; badgeColor = "var(--maroon)"; break;
                case 8: questionsPool = bancoTema9; themeName = "Tema 9"; badgeColor = "var(--gold)"; break;
                case 9: questionsPool = bancoTema10; themeName = "Tema 10"; badgeColor = "var(--midnight)"; break;
            }
        }
        
        // Configurar UI
        topicBadge.innerText = themeName;
        topicBadge.style.background = isFinalExam ? badgeColor : badgeColor; // Si es gradiente funciona igual en background
        topicBadge.style.color = (themeId === 8) ? "#333" : "white"; // Contraste para amarillo

        // Barajar y cortar
        let shuffled = [...questionsPool].sort(() => 0.5 - Math.random());
        currentQuestions = shuffled.slice(0, limit);

        // Reset
        currentQuestionIndex = 0;
        score = 0;
        timeLeft = time;

        // Mostrar pantalla
        menuArea.style.display = 'none';
        resultArea.style.display = 'none';
        quizArea.style.display = 'block';

        // Timer
        clearInterval(timerInterval);
        startTimer();

        showQuestion();
    }

    function showQuestion() {
        let totalQ = currentQuestions.length;
        document.getElementById('progress').innerText = `${currentQuestionIndex + 1} / ${totalQ}`;
        nextBtn.style.display = 'none';

        let qData = currentQuestions[currentQuestionIndex];
        
        document.getElementById('question-text').innerText = qData.q;

        let optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = '';

        // Barajar opciones visualmente también (opcional, pero bueno para exámenes)
        // Mantenemos lógica simple: mostrar en orden A,B,C,D original para no complicar el índice de respuesta correcta 'a'
        // Si quisiéramos barajar opciones, tendríamos que mapear el índice correcto. Lo dejaremos fijo por simplicidad y consistencia.
        
        qData.options.forEach((optText, idx) => {
            let btn = document.createElement('div');
            btn.className = 'option-btn';
            btn.innerText = getLetter(idx) + ") " + optText;
            btn.onclick = () => checkAnswer(btn, idx, qData.a);
            optionsDiv.appendChild(btn);
        });
    }

    function getLetter(idx) { return ["A", "B", "C", "D"][idx]; }

    function checkAnswer(selectedBtn, selectedIdx, correctIdx) {
        let allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(b => b.classList.add('disabled'));
        allBtns.forEach(b => b.onclick = null);

        if (selectedIdx === correctIdx) {
            selectedBtn.classList.add('correct');
            score++;
        } else {
            selectedBtn.classList.add('wrong');
            allBtns[correctIdx].classList.add('correct');
        }

        nextBtn.style.display = 'block';
        let isLast = currentQuestionIndex === currentQuestions.length - 1;
        nextBtn.innerText = isLast ? "Ver Nota Final" : "Siguiente Pregunta";
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < currentQuestions.length) {
            showQuestion();
        } else {
            finishQuiz();
        }
    }

    function startTimer() {
        updateTimerDisplay();
        timerInterval = setInterval(() => {
            timeLeft--;
            updateTimerDisplay();
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                finishQuiz(true);
            }
        }, 1000);
    }

    function updateTimerDisplay() {
        let m = Math.floor(timeLeft / 60);
        let s = timeLeft % 60;
        timerDisplay.innerText = `${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;
    }

    function finishQuiz(timeout = false) {
        clearInterval(timerInterval);
        quizArea.style.display = 'none';
        resultArea.style.display = 'flex';

        let total = currentQuestions.length;
        document.getElementById('final-score').innerText = `${score}/${total}`;

        let msg = document.getElementById('result-message');
        if (timeout) {
            msg.innerText = "¡Se acabó el tiempo!";
            msg.style.color = "var(--error)";
        } else {
            // Porcentajes
            let percentage = (score / total) * 100;
            if (percentage === 100) {
                msg.innerText = "¡Perfecto! Dominas los temas.";
                msg.style.color = "var(--success)";
            } else if (percentage >= 60) {
                msg.innerText = "¡Aprobado! Buen trabajo.";
                msg.style.color = "var(--accent)";
            } else {
                msg.innerText = "Necesitas repasar más.";
                msg.style.color = "var(--error)";
            }
        }
    }

    function restartQuiz() {
        startQuiz(currentThemeId);
    }

    function goToMenu() {
        resultArea.style.display = 'none';
        menuArea.style.display = 'flex';
    }
</script>

</body>
</html>
