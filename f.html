<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen de Filosofía</title>
    <!-- Tailwind CSS para Estilos --> 
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React y ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel para JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // Componentes de Iconos (Simulando lucide-react)
        const TimerIcon = () => <i data-lucide="timer" className="w-5 h-5"></i>;
        const CheckIcon = () => <i data-lucide="check-circle" className="w-5 h-5"></i>;
        const RefreshIcon = () => <i data-lucide="refresh-cw" className="w-5 h-5"></i>;
        const ChevronIcon = () => <i data-lucide="chevron-right" className="w-5 h-5"></i>;
        const AwardIcon = () => <i data-lucide="award" className="w-12 h-12"></i>;
        const InfoIcon = () => <i data-lucide="info" className="w-5 h-5"></i>;

        const ALL_QUESTIONS = [
            { id: 1, question: "¿Qué es un proyecto de transformación social?", options: ["Un plan para mejorar la calidad de vida y estructuras de una comunidad.", "Un método exclusivo para generar ingresos económicos individuales.", "Una teoría abstracta sobre la política antigua.", "Un manual de instrucciones para maquinaria industrial.", "Un registro histórico de eventos pasados sin aplicación actual."], answer: 0 },
            { id: 2, question: "¿Cuál es el fin principal de la transformación productiva?", options: ["Aumentar el consumo de productos importados.", "Diversificar la economía y mejorar procesos de creación de valor.", "Eliminar por completo el uso de tecnología en el campo.", "Mantener las técnicas de producción obsoletas por tradición.", "Reducir la participación comunitaria en el trabajo."], answer: 1 },
            { id: 3, question: "En un proyecto comunitario, ¿qué actor es fundamental para la sostenibilidad?", options: ["Empresas extranjeras que no conocen el territorio.", "La comunidad local y su participación activa.", "Solo el gobierno central sin consulta previa.", "Organizaciones que solo donan dinero sin seguimiento.", "Turistas ocasionales que visitan la zona."], answer: 1 },
            { id: 4, question: "¿Qué significa que un proyecto sea 'sostenible'?", options: ["Que depende siempre de ayuda externa para funcionar.", "Que se agota después de la primera intervención.", "Que puede mantenerse en el tiempo con recursos propios o gestionados.", "Que solo funciona durante el periodo de elecciones.", "Que no requiere ningún tipo de evaluación posterior."], answer: 2 },
            { id: 5, question: "¿Qué metodología se usa comúnmente para la intervención social?", options: ["Diagnóstico participativo.", "Imposición de reglas desde el exterior.", "Ignorar las necesidades de los beneficiarios.", "Decisiones tomadas por una sola persona sin debate.", "Selección al azar de problemas a resolver."], answer: 0 },
            { id: 6, question: "¿Cuál es una fase del ciclo de vida de un proyecto comunitario?", options: ["El olvido de las metas propuestas.", "La improvisación de recursos financieros.", "Diseño y planificación.", "La exclusión de las minorías.", "El cierre sin informe final."], answer: 2 },
            { id: 7, question: "¿Qué busca la transformación comunitaria a nivel social?", options: ["Fomentar el individualismo extremo.", "Fortalecer el tejido social y la solidaridad.", "Dividir a los vecinos por ideologías.", "Aumentar la brecha entre ricos y pobres.", "Evitar que la gente se organice."], answer: 1 },
            { id: 8, question: "¿Qué es el impacto social de un proyecto?", options: ["El ruido que hacen las máquinas durante la construcción.", "El cambio neto positivo o negativo en la vida de las personas.", "La cantidad de folletos impresos para la publicidad.", "El costo total del proyecto en dólares.", "La duración del contrato de los trabajadores."], answer: 1 },
            { id: 9, question: "¿Cuál es un reto común en los proyectos comunitarios?", options: ["Tener demasiada participación de la gente.", "La falta de recursos o la resistencia al cambio.", "Que el clima sea siempre perfecto.", "Que todas las personas estén de acuerdo siempre.", "La ausencia total de problemas logísticos."], answer: 1 },
            { id: 10, question: "La 'transformación productiva' se enfoca principalmente en:", options: ["El cambio de la moneda nacional.", "La mejora de habilidades y herramientas para el trabajo.", "El estudio de la gramática española.", "La construcción de monumentos históricos.", "La decoración de oficinas públicas."], answer: 1 },
            { id: 11, question: "¿Qué es el diagnóstico participativo?", options: ["Un examen médico individual.", "Un proceso donde la comunidad identifica sus propios problemas.", "Una lista de leyes dictadas por el parlamento.", "Un sorteo para elegir líderes vecinales.", "Una encuesta que nadie responde."], answer: 1 },
            { id: 12, question: "¿Qué rol cumplen las metodologías de intervención?", options: ["Hacer el proceso más confuso y lento.", "Guiar de forma estructurada las acciones del proyecto.", "Asegurar que nadie entienda lo que se está haciendo.", "Limitar la creatividad de los participantes.", "Garantizar que el proyecto fracase rápido."], answer: 1 },
            { id: 13, question: "Un fundamento de la transformación social es:", options: ["La equidad y la justicia social.", "La represión de las ideas nuevas.", "El mantenimiento del status quo.", "La discriminación por origen étnico.", "El beneficio exclusivo de los líderes."], answer: 0 },
            { id: 14, question: "¿Cuál es la última etapa del ciclo de un proyecto?", options: ["La inauguración sin evaluación.", "Evaluación de resultados y cierre.", "La pérdida de todos los documentos.", "El inicio de un conflicto interno.", "La solicitud de más préstamos."], answer: 1 },
            { id: 15, question: "¿A qué se refiere la transformación 'comunitaria'?", options: ["A cambios que solo afectan a una familia.", "A procesos que involucran y benefician a un colectivo local.", "A la compra masiva de computadoras para el hogar.", "A la reforma de las leyes de aviación civil.", "A la pintura de fachadas en centros comerciales."], answer: 1 },
            { id: 16, question: "¿Por qué es importante evaluar el impacto?", options: ["Para justificar el gasto sin importar el resultado.", "Para aprender de errores y medir la efectividad real.", "Para castigar a quienes no trabajaron bien.", "Para llenar expedientes que nadie leerá.", "Para que el proyecto duren para siempre sin cambios."], answer: 1 },
            { id: 17, question: "¿Qué factor puede detener un proyecto de transformación?", options: ["El exceso de entusiasmo comunitario.", "Conflictos de intereses o falta de transparencia.", "El cumplimiento estricto de los cronogramas.", "Tener una visión clara del futuro.", "La abundancia de materiales de construcción."], answer: 1 },
            { id: 18, question: "¿Qué promueven los proyectos de transformación productiva?", options: ["La dependencia de un solo producto básico.", "La innovación y el valor agregado.", "La reducción de la jornada laboral a cero.", "La exportación de materias primas sin procesar.", "La eliminación de toda industria nacional."], answer: 1 },
            { id: 19, question: "¿Quiénes son los beneficiarios directos de un proyecto comunitario?", options: ["Los inversionistas que viven en otros países.", "Los miembros de la comunidad donde se aplica el proyecto.", "Solo los funcionarios que lo aprueban.", "Los fabricantes de las máquinas utilizadas.", "Los historiadores del futuro."], answer: 1 },
            { id: 20, question: "¿Qué es la 'intervención social'?", options: ["Una charla informal entre amigos.", "Acción organizada para influir en una realidad social.", "Un programa de televisión sobre leyes.", "La invasión de un país por otro.", "La venta de productos en la calle."], answer: 1 },
            { id: 21, question: "¿Qué rol tiene el Estado en estos proyectos?", options: ["Debe ser un facilitador y garante de derechos.", "Debe ignorar cualquier iniciativa ciudadana.", "Debe cobrar impuestos sin dar nada a cambio.", "Debe prohibir que la gente se organice.", "Debe ser el único dueño de todas las ideas."], answer: 0 },
            { id: 22, question: "Un proyecto es exitoso socialmente si:", options: ["Sobró mucho dinero al final.", "Se resolvieron necesidades reales y se empoderó a la gente.", "Salió en todas las portadas de los periódicos.", "Nadie se quejó durante el proceso.", "Se construyó el edificio más alto."], answer: 1 },
            { id: 23, question: "¿Qué motiva la transformación social?", options: ["El deseo de poder absoluto.", "La búsqueda de mejores condiciones de vida para todos.", "La envidia entre comunidades vecinas.", "El aburrimiento de los líderes sociales.", "La necesidad de gastar fondos públicos."], answer: 1 },
            { id: 24, question: "¿Cómo se definen las metas de un proyecto?", options: ["Deben ser claras, medibles y realistas.", "Deben ser imposibles de alcanzar para motivar.", "Se deciden al azar el último día.", "No deben escribirse nunca.", "Cambian cada semana sin aviso."], answer: 0 },
            { id: 25, question: "¿Cuál es la base de la transformación productiva comunitaria?", options: ["El aprovechamiento responsable de recursos locales.", "La explotación desmedida de la naturaleza.", "La compra de tecnología que nadie sabe usar.", "El abandono de las tierras de cultivo.", "La migración masiva a las ciudades."], answer: 0 }
        ];

        function App() {
            const [quizStarted, setQuizStarted] = useState(false);
            const [questions, setQuestions] = useState([]);
            const [currentIndex, setCurrentIndex] = useState(0);
            const [selectedAnswers, setSelectedAnswers] = useState({});
            const [timeLeft, setTimeLeft] = useState(300);
            const [quizFinished, setQuizFinished] = useState(false);
            const [score, setScore] = useState(0);

            useEffect(() => {
                lucide.createIcons();
            });

            const startQuiz = () => {
                const shuffled = [...ALL_QUESTIONS].sort(() => 0.5 - Math.random());
                setQuestions(shuffled.slice(0, 10));
                setQuizStarted(true);
                setCurrentIndex(0);
                setSelectedAnswers({});
                setTimeLeft(300);
                setQuizFinished(false);
            };

            const finishQuiz = useCallback(() => {
                let finalScore = 0;
                questions.forEach((q, idx) => {
                    if (selectedAnswers[idx] === q.answer) finalScore += 1;
                });
                setScore(finalScore);
                setQuizFinished(true);
                setQuizStarted(false);
            }, [questions, selectedAnswers]);

            useEffect(() => {
                let timer;
                if (quizStarted && timeLeft > 0) {
                    timer = setInterval(() => setTimeLeft(prev => prev - 1), 1000);
                } else if (timeLeft === 0 && quizStarted) {
                    finishQuiz();
                }
                return () => clearInterval(timer);
            }, [quizStarted, timeLeft, finishQuiz]);

            const handleAnswer = (optionIdx) => {
                setSelectedAnswers({ ...selectedAnswers, [currentIndex]: optionIdx });
            };

            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            };

            if (quizFinished) {
                return (
                    <div className="min-h-screen flex items-center justify-center p-4 animate-fade-in">
                        <div className="bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden">
                            <div className="bg-indigo-600 p-10 text-center text-white">
                                <div className="flex justify-center mb-4"><AwardIcon /></div>
                                <h2 className="text-3xl font-extrabold mb-1">¡Completado!</h2>
                                <p className="opacity-80">Tema: Transformación Social</p>
                            </div>
                            <div className="p-8 text-center">
                                <div className="text-7xl font-black text-indigo-600 mb-4">{score}/10</div>
                                <p className="text-slate-500 mb-8 font-medium">
                                    {score >= 7 ? "¡Excelente! Estás listo para el examen." : "Sigue practicando un poco más."}
                                </p>
                                <button onClick={startQuiz} className="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-5 rounded-2xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-3">
                                    <RefreshIcon /> Intentar de Nuevo
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            if (!quizStarted) {
                return (
                    <div className="min-h-screen flex items-center justify-center p-4 animate-fade-in">
                        <div className="bg-white w-full max-w-md rounded-[3rem] shadow-2xl overflow-hidden border border-slate-100">
                            <div className="h-56 bg-indigo-600 flex items-center justify-center relative overflow-hidden">
                                <div className="absolute top-0 left-0 w-full h-full opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent scale-150"></div>
                                <h1 className="text-white text-6xl font-black tracking-tighter">FILOSOFÍA</h1>
                            </div>
                            <div className="p-10">
                                <h2 className="text-2xl font-bold text-slate-800 mb-6 text-center">Examen Preparatorio</h2>
                                <div className="space-y-4 mb-10">
                                    <div className="flex items-center gap-4 p-4 bg-indigo-50 rounded-2xl border border-indigo-100">
                                        <div className="bg-indigo-600 p-2 rounded-xl text-white"><InfoIcon /></div>
                                        <p className="text-slate-700 text-sm font-semibold leading-tight">Preguntas del Tema 1</p>
                                    </div>
                                    <div className="flex items-center gap-4 p-4 bg-amber-50 rounded-2xl border border-amber-100">
                                        <div className="bg-amber-500 p-2 rounded-xl text-white"><TimerIcon /></div>
                                        <p className="text-slate-700 text-sm font-semibold">Tiempo: 5 Minutos</p>
                                    </div>
                                </div>
                                <button onClick={startQuiz} className="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-3xl shadow-xl shadow-indigo-100 transition-all active:scale-95 text-2xl uppercase tracking-widest">
                                    COMENZAR
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            const currentQ = questions[currentIndex];

            return (
                <div className="min-h-screen pb-24">
                    <header className="bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-0 z-10 px-6 py-4 flex items-center justify-between shadow-sm">
                        <div className="bg-indigo-600 text-white font-black px-4 py-1.5 rounded-full text-sm">
                            PREGUNTA {currentIndex + 1}
                        </div>
                        <div className={`flex items-center gap-2 font-mono font-bold text-xl px-4 py-1.5 rounded-full ${timeLeft < 60 ? 'bg-red-100 text-red-600 animate-pulse' : 'bg-slate-100 text-slate-700'}`}>
                            <TimerIcon /> {formatTime(timeLeft)}
                        </div>
                    </header>

                    <main className="max-w-md mx-auto p-6 pt-8">
                        <div className="w-full h-2 bg-slate-200 rounded-full mb-10 overflow-hidden">
                            <div className="h-full bg-indigo-600 transition-all duration-500" style={{ width: `${((currentIndex + 1) / 10) * 100}%` }} />
                        </div>

                        <div className="bg-white p-8 rounded-[2rem] shadow-sm border border-slate-100 mb-8">
                            <h2 className="text-xl font-bold text-slate-800 leading-snug">{currentQ.question}</h2>
                        </div>

                        <div className="space-y-4">
                            {currentQ.options.map((opt, idx) => (
                                <button key={idx} onClick={() => handleAnswer(idx)} className={`w-full p-5 text-left rounded-2xl border-2 transition-all flex items-center justify-between group ${selectedAnswers[currentIndex] === idx ? 'border-indigo-600 bg-indigo-50 text-indigo-900 shadow-md scale-[1.02]' : 'border-white bg-white text-slate-700 shadow-sm hover:border-slate-200'}`}>
                                    <span className="text-[15px] font-semibold pr-4 leading-tight">{opt}</span>
                                    <div className={`w-6 h-6 rounded-full border-2 flex-shrink-0 transition-colors flex items-center justify-center ${selectedAnswers[currentIndex] === idx ? 'bg-indigo-600 border-indigo-600' : 'border-slate-300'}`}>
                                        {selectedAnswers[currentIndex] === idx && <div className="w-2 h-2 bg-white rounded-full" />}
                                    </div>
                                </button>
                            ))}
                        </div>
                    </main>

                    <footer className="fixed bottom-0 left-0 w-full bg-white border-t border-slate-200 p-6">
                        <div className="max-w-md mx-auto flex gap-4">
                            <button onClick={() => setCurrentIndex(p => Math.max(0, p - 1))} className={`flex-1 py-4 font-bold rounded-2xl transition-all ${currentIndex === 0 ? 'invisible' : 'bg-slate-100 text-slate-500'}`}>Anterior</button>
                            {currentIndex === 9 ? (
                                <button onClick={finishQuiz} disabled={selectedAnswers[currentIndex] === undefined} className="flex-[2] py-4 bg-emerald-600 text-white font-bold rounded-2xl shadow-lg disabled:opacity-50 flex items-center justify-center gap-2">Finalizar <CheckIcon /></button>
                            ) : (
                                <button onClick={() => setCurrentIndex(p => Math.min(9, p + 1))} disabled={selectedAnswers[currentIndex] === undefined} className="flex-[2] py-4 bg-indigo-600 text-white font-bold rounded-2xl shadow-lg disabled:bg-slate-300 flex items-center justify-center gap-2">Siguiente <ChevronIcon /></button>
                            )}
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
