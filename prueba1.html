<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Esquema: Manual Oxford de Teor√≠a Pol√≠tica Ambiental</title>
<script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Roboto+Slab:wght@300;400;700&display=swap" rel="stylesheet">

<style>
  :root {
    --primary: #2c3e50;    /* Azul Oxford Oscuro */
    --accent: #c0392b;     /* Rojo Ladrillo (Fuego) */
    --leaf: #27ae60;       /* Verde Naturaleza */
    --history: #d35400;    /* Naranja Historia */
    --power: #8e44ad;      /* Morado Poder */
    --gold: #f1c40f;       /* Dorado Detalles */
    --paper: #fdfbf7;      /* Fondo Papel */
    --text: #2c3e50;
  }

  body, html {
    margin: 0; padding: 0;
    width: 100%; height: 100%;
    font-family: 'Roboto Slab', serif;
    background-color: var(--paper);
    color: var(--text);
    overflow: hidden;
  }

  /* --- RED --- */
  #network {
    width: 100%; height: 100vh;
    background: radial-gradient(circle at center, #fffefb 0%, #f0ebd8 100%);
  }

  /* --- BOTONES DE FILTRO --- */
  .controls {
    position: absolute;
    top: 20px; left: 20px;
    z-index: 100;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .filter-btn {
    background: #fff;
    border: 1px solid #ccc;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    font-family: 'Roboto Slab', serif;
    font-size: 0.85rem;
    font-weight: 700;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    transition: all 0.2s ease;
    text-align: left;
    display: flex;
    align-items: center;
  }
  
  .filter-btn:before {
    content: ''; display: inline-block;
    width: 10px; height: 10px; margin-right: 8px;
    border-radius: 50%; background: #ccc;
  }

  .filter-btn:hover { transform: translateX(5px); }
  .filter-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
  
  /* Colores espec√≠ficos de botones */
  .btn-all.active:before { background: #fff; }
  .btn-hist.active { background: var(--history); border-color: var(--history); }
  .btn-hist:before { background: var(--history); }
  
  .btn-nat.active { background: var(--leaf); border-color: var(--leaf); }
  .btn-nat:before { background: var(--leaf); }
  
  .btn-pow.active { background: var(--power); border-color: var(--power); }
  .btn-pow:before { background: var(--power); }

  .btn-fire.active { background: var(--accent); border-color: var(--accent); }
  .btn-fire:before { background: var(--accent); }

  /* --- PANEL LATERAL --- */
  .sidebar {
    position: absolute;
    right: 0; top: 0;
    width: 450px;
    height: 100vh;
    background: #fff;
    box-shadow: -5px 0 20px rgba(0,0,0,0.15);
    transform: translateX(100%);
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    z-index: 200;
    border-left: 4px solid var(--primary);
  }

  .sidebar.open { transform: translateX(0); }

  .sidebar-header {
    background: var(--primary);
    color: #fff;
    padding: 25px;
    background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1h2v2H1V1zm4 0h2v2H5V1zm4 0h2v2H9V1zm4 0h2v2h-2V1zm4 0h2v2h-2V1z' fill='%2334495e' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E");
  }

  .book-title {
    font-family: 'Cinzel', serif;
    font-size: 1.2rem;
    line-height: 1.3;
    border-bottom: 2px solid var(--gold);
    padding-bottom: 10px;
    margin-bottom: 5px;
  }

  .book-meta {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #bdc3c7;
  }

  .sidebar-content {
    flex: 1;
    overflow-y: auto;
    padding: 30px;
    font-size: 0.95rem;
    line-height: 1.8;
    color: #444;
  }

  /* Estilos del Contenido del Nodo */
  h2.node-title {
    font-family: 'Cinzel', serif;
    color: var(--primary);
    font-size: 1.6rem;
    margin-top: 0;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
  }

  .node-type {
    font-size: 0.75rem;
    font-weight: bold;
    color: #7f8c8d;
    text-transform: uppercase;
    margin-bottom: 20px;
    display: block;
  }

  .subtitle {
    font-weight: 700;
    color: var(--primary);
    margin-top: 20px;
    margin-bottom: 5px;
    display: block;
  }

  .quote-box {
    background: #fcf3cf; /* Amarillo p√°lido Oxford */
    border-left: 4px solid var(--gold);
    padding: 15px;
    margin: 20px 0;
    font-style: italic;
    color: #5d4037;
    position: relative;
  }

  .quote-box::before {
    content: "‚Äú";
    font-size: 3rem;
    position: absolute;
    top: -10px; left: 5px;
    opacity: 0.2;
  }

  .citation {
    display: block;
    text-align: right;
    font-size: 0.7rem;
    margin-top: 5px;
    font-style: normal;
    color: #7f8c8d;
  }

  .close-btn {
    position: absolute;
    top: 10px; right: 10px;
    background: none; border: none;
    color: #fff; font-size: 1.5rem;
    cursor: pointer;
  }

  .footer {
    padding: 10px;
    text-align: center;
    font-size: 0.65rem;
    color: #999;
    background: #f8f9fa;
    border-top: 1px solid #eee;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .sidebar { width: 100%; height: 70vh; top: auto; bottom: 0; transform: translateY(100%); border-left: none; border-top: 4px solid var(--primary); }
    .sidebar.open { transform: translateY(0); }
    .controls { flex-direction: row; flex-wrap: wrap; top: auto; bottom: 20px; width: 90%; }
    .filter-btn { font-size: 0.7rem; padding: 5px 10px; flex: 1; }
  }
</style>
</head>
<body>

<div id="network"></div>

<div class="controls">
  <button class="filter-btn btn-all active" onclick="filterNetwork('all', this)">Ver Todo</button>
  <button class="filter-btn btn-hist" onclick="filterNetwork('history', this)">Eje I: Tradiciones</button>
  <button class="filter-btn btn-nat" onclick="filterNetwork('nature', this)">Eje II: Ontolog√≠a</button>
  <button class="filter-btn btn-pow" onclick="filterNetwork('power', this)">Eje III: Poder</button>
  <button class="filter-btn btn-fire" onclick="filterNetwork('fire', this)">üî• Caso de Estudio: Incendios</button>
</div>

<div class="sidebar" id="sidebar">
  <button class="close-btn" onclick="closeSidebar()">√ó</button>
  <div class="sidebar-header">
    <div class="book-title">Manual Oxford de<br>Teor√≠a Pol√≠tica Ambiental</div>
    <div class="book-meta">Oxford University Press (2016)<br>Gabrielson, Hall, Meyer & Schlosberg</div>
  </div>
  <div class="sidebar-content" id="node-content">
    <p style="text-align: center; margin-top: 50%; opacity: 0.5;">Seleccione un nodo del esquema para leer el contenido.</p>
  </div>
  <div class="footer">
    Elaborado por <strong>Maria Angelica Suarez Ribera</strong>
  </div>
</div>

<script>
/* --- BASE DE DATOS DE CONTENIDOS (TEXTOS COMPLETOS) --- */
const db = {
  // --- NODO CENTRAL ---
  0: {
    type: "Volumen Central",
    title: "El Campo de la Teor√≠a Pol√≠tica Ambiental",
    content: `
      <span class="subtitle">Definici√≥n del Proyecto</span>
      <p>Este manual no busca canonizar una sola "teor√≠a pol√≠tica ambiental" (EPT), sino mapear un campo de investigaci√≥n vibrante y plural. La EPT se define aqu√≠ como el uso de herramientas te√≥ricas (cr√≠tica conceptual, an√°lisis normativo, historia de las ideas) para abordar la crisis ecol√≥gica.</p>
      <span class="subtitle">La Tesis Principal</span>
      <p>El argumento central del libro es que la crisis ambiental no es solo un problema t√©cnico o cient√≠fico, sino profundamente <strong>pol√≠tico</strong>. Requiere repensar nuestros conceptos fundacionales: ¬øQu√© significa "libertad" en un planeta finito? ¬øEs posible la "democracia" si solo votan los humanos? ¬øC√≥mo cambia la "justicia" cuando incluimos a generaciones futuras?</p>
      <div class="quote-box">
        "La EPT interroga los conceptos pol√≠ticos tradicionales desde un punto de vista ambiental... reflexionando sobre democracia, libertad, derechos y justicia."
        <span class="citation">Introducci√≥n (p. 4)</span>
      </div>
    `
  },

  // --- EJE I: TRADICIONES (HISTORY) ---
  1: {
    type: "Secci√≥n Fundamental",
    title: "EJE I: Di√°logos con la Tradici√≥n",
    content: `
      <span class="subtitle">¬øPor qu√© leer a los cl√°sicos?</span>
      <p>Esta secci√≥n agrupa los debates sobre c√≥mo la EPT interact√∫a con la historia del pensamiento pol√≠tico occidental (Plat√≥n, Hobbes, Locke). La tesis de esta secci√≥n es que no debemos desechar el canon por considerarlo "anti-ecol√≥gico", sino releerlo cr√≠ticamente.</p>
      <span class="subtitle">Apropiaci√≥n Cr√≠tica</span>
      <p>Los autores en esta secci√≥n (como Harlan Wilson) sugieren un enfoque de "apropiaci√≥n selectiva". Usamos a Hobbes para entender la necesidad de coerci√≥n ante la escasez, o a Mill para imaginar una econom√≠a que no crezca perpetuamente. Los textos antiguos sirven como espejos para diagnosticar nuestras fallas actuales.</p>
    `
  },
  11: {
    type: "Debate Clave",
    title: "Liberalismo: ¬øAmigo o Enemigo?",
    content: `
      <span class="subtitle">El Problema de Locke</span>
      <p>El liberalismo cl√°sico a menudo se culpa de la crisis ecol√≥gica debido a su √©nfasis en la propiedad privada y la acumulaci√≥n. John Locke ve√≠a la naturaleza como un "desperdicio" hasta que el trabajo humano la transformaba en valor.</p>
      <span class="subtitle">La Soluci√≥n de Mill</span>
      <p>Piers Stephens argumenta en esta secci√≥n que John Stuart Mill ofrece una alternativa: el "Liberalismo Verde". Mill defendi√≥ el <strong>Estado Estacionario</strong>, argumentando que una vez satisfechas las necesidades b√°sicas, el crecimiento material infinito destruye el car√°cter humano. La naturaleza es necesaria para la soledad, la reflexi√≥n y la libertad individual.</p>
      <div class="quote-box">
        "El nuevo liberalismo milliano es la variante mejor adaptada para una s√≠ntesis con los objetivos y valores ambientalistas."
        <span class="citation">Piers Stephens (Cap. 4)</span>
      </div>
    `
  },
  12: {
    type: "Perspectiva Cr√≠tica",
    title: "Enfoques No-Occidentales",
    content: `
      <span class="subtitle">Contra el "Orientalismo Verde"</span>
      <p>Farah Godrej advierte sobre el peligro de idealizar las culturas orientales o ind√≠genas como inherentemente "sagradas" o "ecol√≥gicas". Esto es otra forma de estereotipo colonial.</p>
      <span class="subtitle">Materialismo Pol√≠tico</span>
      <p>En su lugar, propone estudiar pr√°cticas concretas como el <em>Swaraj</em> de Gandhi: no una m√≠stica et√©rea, sino una pol√≠tica material de autosuficiencia, resistencia anticolonial y justicia distributiva.</p>
    `
  },

  // --- EJE II: ONTOLOG√çA / NATURALEZA (NATURE) ---
  2: {
    type: "Secci√≥n Fundamental",
    title: "EJE II: Repensando la Naturaleza",
    content: `
      <span class="subtitle">El Giro Ontol√≥gico</span>
      <p>Esta es quiz√°s la secci√≥n m√°s innovadora del manual. Cuestiona la divisi√≥n b√°sica entre "Sujeto Humano" (activo) y "Objeto Natural" (pasivo). La tesis aqu√≠ es el <strong>Nuevo Materialismo</strong>: la materia misma tiene agencia.</p>
      <span class="subtitle">Agencia Distribuida</span>
      <p>Ya no podemos ver la pol√≠tica como un asunto solo de humanos discutiendo en una habitaci√≥n. Las tormentas, los virus, el di√≥xido de carbono y los bosques act√∫an pol√≠ticamente: fuerzan decisiones, destruyen infraestructuras y reorganizan sociedades. La naturaleza no es un escenario, es un actor.</p>
    `
  },
  21: {
    type: "Concepto Te√≥rico",
    title: "Biopol√≠tica Vegetal",
    content: `
      <span class="subtitle">Ceguera hacia las Plantas</span>
      <p>Catriona Sandilands argumenta que la teor√≠a pol√≠tica sufre de "ceguera vegetal". Vemos a las plantas como decoraci√≥n inerte. Sin embargo, las plantas tienen inteligencia sensorial y comunitaria.</p>
      <span class="subtitle">Pol√≠tica Floral</span>
      <p>Sandilands propone una "biopol√≠tica" que incluya a las plantas como ciudadanas. Analiza c√≥mo la gesti√≥n de parques y bosques urbanos no es neutral, sino una forma de disciplinar tanto a la naturaleza como a las personas que la usan.</p>
    `
  },

  // --- CASO DE ESTUDIO: FUEGO (FIRE) ---
  100: {
    type: "Caso de Estudio: Agencia Material",
    title: "Incendios Forestales (Wildfire)",
    content: `
      <span class="subtitle">El Fuego como Agente Pol√≠tico</span>
      <p>Basado en el Cap√≠tulo 26 de Teena Gabrielson. El fuego forestal es el ejemplo perfecto para entender la "Agencia Material". El fuego no obedece leyes humanas; tiene sus propios comportamientos, apetitos y trayectorias. Al "actuar", el fuego reconfigura fronteras, destruye propiedades y fuerza al Estado a declarar emergencias.</p>
      <span class="subtitle">La Paradoja de la Supresi√≥n</span>
      <p>Durante un siglo, la pol√≠tica oficial fue la "Supresi√≥n Total": apagar todo fuego inmediatamente. Esta pol√≠tica, nacida de la arrogancia humana de querer controlar la naturaleza, cre√≥ bosques densos y llenos de combustible muerto. El resultado son los mega-incendios actuales que son imposibles de controlar.</p>
      <div class="quote-box">
        "Concebir los incendios estrictamente como procesos f√≠sicos los despolitiza... Debemos verlos como ensamblajes de actores humanos y no humanos."
        <span class="citation">Teena Gabrielson (Cap. 26)</span>
      </div>
    `
  },
  101: {
    type: "An√°lisis de Pol√≠ticas",
    title: "La Pol√≠tica de la Ignici√≥n",
    content: `
      <span class="subtitle">Ensamblajes de Desastre</span>
      <p>Un incendio no es "natural". Es un evento h√≠brido creado por una red de actores (ensamblaje): el viento, la sequ√≠a, los concejales que permitieron construir casas en el bosque, las aseguradoras, y la vegetaci√≥n seca.</p>
      <span class="subtitle">Vulnerabilidad Desigual</span>
      <p>El an√°lisis de Gabrielson muestra que el fuego revela desigualdades de clase y raza. ¬øQu√© casas se salvan? ¬øQui√©nes son los bomberos (a menudo prisioneros en EE.UU. cobrando salarios m√≠nimos)? El fuego ilumina las estructuras de poder invisibles.</p>
    `
  },

  // --- EJE III: PODER (POWER) ---
  3: {
    type: "Secci√≥n Fundamental",
    title: "EJE III: Estructuras de Poder",
    content: `
      <span class="subtitle">La Realpolitik Ambiental</span>
      <p>Esta secci√≥n deja de lado el idealismo para mirar las estructuras duras: el Estado, el Capitalismo y la Burocracia. La pregunta central es: ¬øPueden estas instituciones, dise√±adas para la explotaci√≥n, ser reformadas para la conservaci√≥n?</p>
      <span class="subtitle">Gubernamentalidad</span>
      <p>Se utiliza mucho a Foucault aqu√≠. La pol√≠tica ambiental moderna a menudo no trata de "salvar a la Madre Tierra", sino de <strong>gestionar poblaciones</strong>. Medir el carbono, regular el consumo, controlar la natalidad: todo esto es biopoder.</p>
    `
  },
  31: {
    type: "Cr√≠tica Radical",
    title: "Gubernamentalidad Verde",
    content: `
      <span class="subtitle">Eco-Managerialismo</span>
      <p>Timothy Luke lanza una cr√≠tica feroz. Argumenta que el desarrollo sostenible es a menudo una m√°scara para el "Eco-Managerialismo": un intento tecnocr√°tico de mantener el sistema capitalista funcionando mediante ajustes menores, sin cuestionar la l√≥gica de crecimiento que causa el problema.</p>
      <div class="quote-box">
        "La gubernamentalidad verde lleva el alcance administrativo hacia un eco-managerialismo profundo, gestionando la vida para el mercado."
        <span class="citation">Timothy Luke (Cap. 30)</span>
      </div>
    `
  },
  32: {
    type: "Teor√≠a del Estado",
    title: "El Estado Verde",
    content: `
      <span class="subtitle">¬øNecesitamos un Leviat√°n?</span>
      <p>Autores como Eckersley y Paterson debaten si el Estado puede volverse "verde". Algunos temen que la emergencia clim√°tica justifique un autoritarismo estatal (eco-dictadura). Otros argumentan que solo el Estado tiene el poder suficiente para frenar a las corporaciones multinacionales.</p>
    `
  }
};

/* --- CONFIGURACI√ìN DE LA RED (VIS.JS) --- */
const nodes = new vis.DataSet([
  // Centro
  { id: 0, label: "MANUAL\nOXFORD", shape: "box", color: "#2c3e50", font: {color:"#fff", size:20} },

  // EJE I: TRADICIONES (Naranja)
  { id: 1, label: "Eje I:\nTradiciones", group: "history", value: 25 },
  { id: 11, label: "Liberalismo\n(Locke vs Mill)", group: "history", value: 15 },
  { id: 12, label: "Enfoques\nNo-Occidentales", group: "history", value: 15 },

  // EJE II: NATURALEZA (Verde)
  { id: 2, label: "Eje II:\nOntolog√≠a", group: "nature", value: 25 },
  { id: 21, label: "Biopol√≠tica\nVegetal", group: "nature", value: 15 },
  
  // MODULO FUEGO (Conectado a Naturaleza pero distinto)
  { id: 100, label: "INCENDIOS\n(Agencia)", group: "fire", value: 20, shape: "hexagon" },
  { id: 101, label: "Pol√≠tica de\nSupresi√≥n", group: "fire", value: 15 },

  // EJE III: PODER (Morado)
  { id: 3, label: "Eje III:\nPoder", group: "power", value: 25 },
  { id: 31, label: "Gubernamentalidad\n(Foucault)", group: "power", value: 15 },
  { id: 32, label: "El Estado\nVerde", group: "power", value: 15 }
]);

const edges = new vis.DataSet([
  // Ramas Principales
  { from: 0, to: 1, width: 3 },
  { from: 0, to: 2, width: 3 },
  { from: 0, to: 3, width: 3 },

  // Ramas Historia
  { from: 1, to: 11 }, { from: 1, to: 12 },

  // Ramas Naturaleza
  { from: 2, to: 21 },
  { from: 2, to: 100, label: "caso de estudio", color: {color:"#c0392b"}, dashes:true }, // Conexi√≥n tem√°tica

  // Ramas Fuego
  { from: 100, to: 101 },

  // Ramas Poder
  { from: 3, to: 31 }, { from: 3, to: 32 },

  // Conexiones Cruzadas
  { from: 100, to: 31, dashes:true, label: "gesti√≥n", color: {opacity:0.3} } // Incendios <-> Gesti√≥n gubernamental
]);

const container = document.getElementById('network');
const data = { nodes: nodes, edges: edges };
const options = {
  nodes: {
    shape: 'dot',
    font: { face: 'Roboto Slab', color: '#333' },
    borderWidth: 2,
    shadow: true
  },
  groups: {
    history: { color: { background: '#d35400', border: '#a04000' } },
    nature: { color: { background: '#27ae60', border: '#1e8449' } },
    power: { color: { background: '#8e44ad', border: '#6c3483' } },
    fire: { color: { background: '#c0392b', border: '#922b21' }, font: { color: '#c0392b', size: 14, face: 'Cinzel' } }
  },
  edges: {
    color: { color: '#bdc3c7', highlight: '#2c3e50' },
    smooth: { type: 'continuous' }
  },
  interaction: { hover: true },
  physics: {
    stabilization: false,
    barnesHut: { gravitationalConstant: -2000, springLength: 120 }
  }
};

const network = new vis.Network(container, data, options);

/* --- L√ìGICA DE INTERACCI√ìN --- */
network.on("click", function (params) {
  if (params.nodes.length > 0) {
    const nodeId = params.nodes[0];
    const info = db[nodeId];
    
    if (info) {
      document.getElementById('node-content').innerHTML = `
        <span class="node-type">${info.type}</span>
        <h2 class="node-title">${info.title}</h2>
        ${info.content}
      `;
      document.getElementById('sidebar').classList.add('open');
    }
  }
});

function closeSidebar() {
  document.getElementById('sidebar').classList.remove('open');
}

function filterNetwork(type, btn) {
  // Reset botones
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');

  // L√≥gica de filtrado
  const allNodeIds = nodes.getIds();
  
  if (type === 'all') {
    nodes.update(allNodeIds.map(id => ({id: id, hidden: false})));
    network.fit();
  } else {
    // Definir qu√© grupos mostrar seg√∫n el bot√≥n
    let targetGroups = [];
    if (type === 'history') targetGroups = ['history'];
    if (type === 'nature') targetGroups = ['nature', 'fire']; // Fire es parte de la naturaleza ontol√≥gica
    if (type === 'power') targetGroups = ['power'];
    if (type === 'fire') targetGroups = ['fire'];

    const updates = allNodeIds.map(id => {
      const node = nodes.get(id);
      // Siempre mostrar centro (0) y nodos del grupo objetivo
      const isVisible = (id === 0) || targetGroups.includes(node.group);
      return { id: id, hidden: !isVisible };
    });
    
    nodes.update(updates);
    
    // Zoom a los nodos visibles
    if(type === 'fire') {
      network.fit({ nodes: [0, 100, 101], animation: true });
    } else {
      network.fit({ animation: true });
    }
  }
}
</script>
</body>
</html>
