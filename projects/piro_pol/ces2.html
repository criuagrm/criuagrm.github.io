<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Cambridge Handbook Vol. 2: Praxis y Justicia</title>
<script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

<style>
  :root {
    /* Paleta de Colores - Distintiva para Vol 2 (Morado/Terracota) */
    --primary: #4a235a;    /* Morado Profundo (Praxis/Cuerpo) */
    --secondary: #d35400;  /* Terracota (Tierra/Justicia) */
    --fire: #c0392b;       /* Rojo Fuego */
    --nature: #27ae60;     /* Verde Nuevos Materialismos */
    --food: #f39c12;       /* Amarillo Alimentos */
    --text: #2c3e50;
    --bg-panel: #ffffff;
    --bg-canvas: #fdfbf7;  /* Color Papel Crema */
  }

  body, html {
    margin: 0; padding: 0;
    width: 100%; height: 100%;
    font-family: 'Lato', sans-serif;
    background-color: var(--bg-canvas);
    overflow: hidden;
  }

  /* --- LIENZO DE RED --- */
  #network {
    width: 100%; height: 100vh;
    background: radial-gradient(circle at center, #fdfbf7 0%, #ece5dd 100%);
  }

  /* --- BOTONERA DE FILTROS --- */
  .controls {
    position: absolute;
    top: 30px; left: 30px;
    z-index: 100;
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 250px;
  }

  .btn {
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid #ccc;
    border-left: 4px solid var(--primary);
    padding: 12px 15px;
    cursor: pointer;
    font-family: 'Playfair Display', serif;
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--text);
    text-align: left;
    box-shadow: 2px 2px 10px rgba(0,0,0,0.05);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .btn span {
    font-family: 'Lato', sans-serif;
    font-size: 0.7rem;
    text-transform: uppercase;
    color: #999;
    font-weight: 400;
  }

  .btn:hover { transform: translateX(5px); background: #fff; }
  .btn.active { background: var(--primary); color: #fff; border-left-color: var(--secondary); }
  .btn.active span { color: rgba(255,255,255,0.7); }

  /* Estilos espec칤ficos de botones */
  .btn-body.active { background: var(--secondary); border-color: var(--secondary); }
  .btn-nature.active { background: var(--nature); border-color: var(--nature); }
  .btn-fire { border-left-color: var(--fire); color: var(--fire); }
  .btn-fire.active { background: var(--fire); color: white; }

  /* --- PANEL LATERAL (SIDEBAR) --- */
  .sidebar {
    position: absolute;
    right: 0; top: 0;
    width: 550px; /* Panel ancho para lectura c칩moda */
    height: 100vh;
    background: var(--bg-panel);
    box-shadow: -5px 0 30px rgba(0,0,0,0.15);
    transform: translateX(100%);
    transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
    display: flex;
    flex-direction: column;
    z-index: 200;
    border-left: 5px solid var(--primary);
  }

  .sidebar.open { transform: translateX(0); }

  /* Cabecera del Panel */
  .panel-header {
    background: var(--primary);
    color: #fff;
    padding: 40px 30px;
    background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px);
  }

  .book-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    line-height: 1.2;
    margin-bottom: 8px;
  }

  .book-meta {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    opacity: 0.8;
  }

  /* Contenido del Panel */
  .panel-content {
    flex-grow: 1;
    overflow-y: auto;
    padding: 40px 30px;
    line-height: 1.8;
    color: #444;
  }

  .article-type {
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 15px;
    display: block;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
  }

  h2.article-title {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    color: var(--primary);
    margin-top: 0;
    margin-bottom: 10px;
    line-height: 1.1;
  }

  .author-tag {
    font-style: italic;
    color: #7f8c8d;
    margin-bottom: 30px;
    font-size: 0.95rem;
  }

  .subtitle {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    color: var(--text);
    margin-top: 30px;
    margin-bottom: 10px;
    font-size: 1.2rem;
    display: block;
  }

  p { margin-bottom: 20px; text-align: justify; }

  /* Cajas de Citas */
  .quote-block {
    background: #fdf2e9; /* Tono piel suave */
    border-left: 4px solid var(--secondary);
    padding: 20px;
    margin: 25px 0;
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 1.1rem;
    color: #5d4037;
    position: relative;
  }

  .citation-ref {
    display: block;
    text-align: right;
    font-size: 0.7rem;
    font-family: 'Lato', sans-serif;
    font-style: normal;
    color: #999;
    margin-top: 10px;
    text-transform: uppercase;
  }

  .close-btn {
    position: absolute;
    top: 20px; right: 20px;
    background: none; border: none;
    color: white; font-size: 2rem;
    cursor: pointer; opacity: 0.8;
  }
  .close-btn:hover { opacity: 1; transform: scale(1.1); }

  .footer {
    padding: 15px;
    background: #f8f9fa;
    border-top: 1px solid #eee;
    font-size: 0.7rem;
    text-align: center;
    color: #aaa;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .sidebar { width: 100%; height: 85vh; top: auto; bottom: 0; transform: translateY(100%); }
    .sidebar.open { transform: translateY(0); }
    .controls { width: auto; right: 30px; }
    .btn span { display: none; }
  }
</style>
</head>
<body>

<div id="network"></div>

<div class="controls">
  <button class="btn active" onclick="filterNodes('all', this)">
    Vista General <span>Todo el volumen</span>
  </button>
  <button class="btn btn-body" onclick="filterNodes('embodied', this)">
    Cuerpos y G칠nero <span>Queer, Raza, Salud</span>
  </button>
  <button class="btn btn-nature" onclick="filterNodes('nature', this)">
    M치s all치 de lo Humano <span>Plantas & ANT</span>
  </button>
  <button class="btn btn-fire" onclick="filterNodes('fire', this)">
    游댠 Rastros del Fuego <span>Energ칤a y Resistencia</span>
  </button>
</div>

<div class="sidebar" id="sidebar">
  <button class="close-btn" onclick="closeSidebar()">칑</button>
  
  <div class="panel-header">
    <div class="book-title">The Cambridge Handbook of<br>Environmental Sociology</div>
    <div class="book-meta">Volumen 2: Pr치ctica y Movimientos (2020)<br>Legun, Keller, Carolan & Bell</div>
  </div>

  <div class="panel-content" id="content-body">
    <div style="text-align: center; margin-top: 50%; color: #999;">
      <p>Seleccione un nodo para desplegar el an치lisis acad칠mico.</p>
    </div>
  </div>

  <div class="footer">
    Elaborado por <strong>Maria Angelica Suarez Ribera</strong>
  </div>
</div>

<script>
  /* --- BASE DE DATOS DE CONTENIDOS (TEXTOS DESARROLLADOS) --- */
  const db = {
    // NODO CENTRAL
    0: {
      type: "Introducci칩n al Volumen 2",
      title: "La Praxis de la Sociolog칤a Ambiental",
      author: "Editores: Katharine Legun, Julie C. Keller et al.",
      content: `
        <span class="subtitle">Del Concepto a la Acci칩n</span>
        <p>A diferencia del Volumen 1, que establec칤a los fundamentos te칩ricos (como el materialismo hist칩rico), este Volumen 2 se centra en la <strong>pr치ctica</strong>. 쮺칩mo se vive la teor칤a? Los editores argumentan que la sociolog칤a ambiental debe "bajar a tierra" para examinar c칩mo las desigualdades ecol칩gicas se inscriben en los cuerpos, en los alimentos que comemos y en las formas en que nos organizamos pol칤ticamente.</p>
        <span class="subtitle">Rompiendo Silencios</span>
        <p>Este volumen es notable por incluir voces que hist칩ricamente fueron marginadas en la sociolog칤a ambiental cl치sica: perspectivas queer, ind칤genas, feministas y de justicia racial. No se trata solo de "proteger la naturaleza", sino de cuestionar qu칠 cuerpos tienen derecho a ocupar esa naturaleza.</p>
        <div class="quote-block">
          "El cambio, la aceptaci칩n del cambio y la normalizaci칩n de un cambio continuo significativo es una caracter칤stica definitoria de nuestra era."
          <span class="citation-ref">Introducci칩n (p. 2)</span>
        </div>
      `
    },

    // --- GRUPO: RASTROS DEL FUEGO (FIRE CLUSTER) ---
    100: {
      type: "Filosof칤a y Energ칤a",
      title: "Piropol칤tica: El Mundo en Llamas",
      author: "Ref: Michael Marder (Cap. 10)",
      content: `
        <span class="subtitle">La Ontolog칤a del Fuego</span>
        <p>Aunque el cap칤tulo de Marder en este volumen se titula "Plants and Philosophy", su argumento se basa en su obra mayor sobre la <strong>Piropol칤tica</strong>. Marder sostiene que nuestra era pol칤tica se define por la combusti칩n: quemamos combustibles f칩siles, quemamos selvas y nos "quemamos" (burnout) a nosotros mismos.</p>
        <span class="subtitle">Energ칤a sin Consumo</span>
        <p>Frente a la econom칤a del fuego destructivo (que consume al otro para producir energ칤a), Marder propone aprender de las plantas. Las plantas procesan la energ칤a solar (el fuego del sol) sin destruir la fuente. Una "sociolog칤a vegetal" es una alternativa pol칤tica a la piropol칤tica del capitalismo f칩sil.</p>
        <div class="quote-block">
          "Necesitamos una pol칤tica que, como la fotos칤ntesis, genere vida sin agotar su fuente, contra la l칩gica de la incineraci칩n total."
          <span class="citation-ref">Michael Marder (Contexto Te칩rico)</span>
        </div>
      `
    },
    101: {
      type: "Justicia Racial y Agraria",
      title: "Soul Fire Farm: Soberan칤a Negra",
      author: "Ref: Conclusi칩n y Cap. 5",
      content: `
        <span class="subtitle">Agricultura como Resistencia</span>
        <p>El libro destaca el trabajo de <strong>Leah Penniman</strong> y <em>Soul Fire Farm</em>. Frente al racismo sist칠mico que despoj칩 a los afroamericanos de sus tierras (como se detalla en los cap칤tulos sobre justicia alimentaria), esta organizaci칩n usa el t칠rmino "Soul Fire" (Fuego del Alma) para describir la reconexi칩n ancestral con la tierra.</p>
        <span class="subtitle">Desafiando la Blanquitud Rural</span>
        <p>La sociolog칤a rural tradicional a menudo asume que el agricultor es un hombre blanco. Soul Fire Farm desaf칤a esto, demostrando que las pr치cticas regenerativas (permacultura) tienen ra칤ces ind칤genas y africanas. El "fuego" aqu칤 no es destrucci칩n, sino el esp칤ritu de resistencia necesario para cultivar en un sistema hostil.</p>
        <div class="quote-block">
          "Farming while Black (Cultivar siendo negro) es un acto de desaf칤o pol칤tico en un pa칤s construido sobre la esclavitud agraria."
          <span class="citation-ref">Ref. Leah Penniman</span>
        </div>
      `
    },
    102: {
      type: "Energ칤a F칩sil",
      title: "Fracking: El Silencio en la Zona de Combusti칩n",
      author: "Debra J. Davidson (Cap. 19)",
      content: `
        <span class="subtitle">La Fractura Social</span>
        <p>Debra Davidson analiza las comunidades que viven sobre yacimientos de gas de esquisto (fracking). El fracking es la extracci칩n violenta de fuego f칩sil. Lo sorprendente no es el ruido de la maquinaria, sino el <strong>silencio social</strong>.</p>
        <span class="subtitle">El Silencio es Oro</span>
        <p>Davidson documenta c칩mo se impone una "cultura del silencio". Criticar a la industria del gas se ve como una traici칩n a la econom칤a local. Las llamas de los pozos de gas iluminan el cielo, pero la comunidad vive en la oscuridad informativa debido a la dependencia econ칩mica y el miedo.</p>
        <div class="quote-block">
          "En las zonas de extracci칩n, el silencio no es ausencia de opini칩n, sino una estrategia de supervivencia impuesta por la hegemon칤a corporativa."
          <span class="citation-ref">Debra J. Davidson (Cap. 19)</span>
        </div>
      `
    },

    // --- GRUPO: CUERPOS Y G칄NERO (EMBODIED) ---
    11: {
      type: "Sociolog칤a Queer",
      title: "쮼xtra침os en la Tierra? Ruralidad Queer",
      author: "Julie C. Keller (Cap. 5)",
      content: `
        <span class="subtitle">Desafiando la Metronormatividad</span>
        <p>Julie Keller ataca el concepto de "metronormatividad": la idea err칩nea de que las personas LGBTQ solo pueden ser libres y felices en las grandes ciudades, y que el campo es inherentemente homof칩bico y peligroso. Esta narrativa borra a millones de personas queer que viven, aman y cultivan en zonas rurales.</p>
        <span class="subtitle">Ecolog칤a Queer</span>
        <p>Keller documenta el surgimiento de "santuarios rurales" y comunidades agr칤colas queer. Estos espacios no solo buscan tolerancia, sino que redefinen la relaci칩n con la naturaleza, rechazando la explotaci칩n heteropatriarcal de la tierra. La sostenibilidad ecol칩gica y la libertad sexual van de la mano.</p>
        <div class="quote-block">
          "Debemos superar la narrativa del '칠xodo rural' queer para reconocer las formas vibrantes de resistencia y pertenencia en el campo."
          <span class="citation-ref">Julie C. Keller (p. 88)</span>
        </div>
      `
    },
    12: {
      type: "G칠nero y Medio Ambiente",
      title: "Masculinidades Industriales",
      author: "Kathryn Gregory Anderson (Cap. 6)",
      content: `
        <span class="subtitle">El Hombre contra la Naturaleza</span>
        <p>쯇or qu칠 el movimiento ambientalista a menudo se etiqueta como "femenino"? Anderson explora la construcci칩n de la <strong>masculinidad industrial hegem칩nica</strong>. La identidad de muchos hombres (le침adores, mineros, perforadores) est치 ligada a la capacidad de dominar y extraer recursos de la naturaleza.</p>
        <span class="subtitle">La Amenaza Verde</span>
        <p>Para esta masculinidad, la regulaci칩n ambiental no es solo una amenaza econ칩mica, sino una amenaza a su identidad de g칠nero. Entender esto es crucial para explicar la reacci칩n pol칤tica (backlash) contra las pol칤ticas clim치ticas en zonas industriales.</p>
      `
    },

    // --- GRUPO: M츼S ALL츼 DE LO HUMANO (NATURE) ---
    21: {
      type: "Ontolog칤a Pol칤tica",
      title: "Filosof칤a de las Plantas",
      author: "Michael Marder (Cap. 10)",
      content: `
        <span class="subtitle">Superando la Ceguera Vegetal</span>
        <p>La sociolog칤a ha sido hist칩ricamente "zooc칠ntrica" (centrada en animales y humanos). Marder argumenta que las plantas son la base de toda vida pol칤tica, pero las tratamos como mobiliario inerte. Propone reconocer la <strong>agencia vegetal</strong>: las plantas tienen memoria, comunicaci칩n y estrategias, aunque no tengan cerebro.</p>
        <div class="quote-block">
          "Reconocer a las plantas como seres pol칤ticos cambia nuestra comprensi칩n de la comunidad, la frontera y el crecimiento."
          <span class="citation-ref">Michael Marder (Cap. 10)</span>
        </div>
      `
    },
    22: {
      type: "Nuevos Materialismos",
      title: "Teor칤a del Actor-Red (ANT)",
      author: "Katharine Legun & Abbi Virens (Cap. 9)",
      content: `
        <span class="subtitle">La Agencia de las Cosas</span>
        <p>Siguiendo a Bruno Latour, este cap칤tulo explica c칩mo los objetos no humanos (un tractor, una semilla modificada gen칠ticamente, un algoritmo) son "actores" en la red social. No podemos entender la agricultura moderna solo mirando a los granjeros; debemos mirar c칩mo las tecnolog칤as dictan el comportamiento humano.</p>
      `
    },

    // --- GRUPO: ALIMENTOS (FOOD) ---
    31: {
      type: "Sistemas Alimentarios",
      title: "Consumo 칄tico: 쯌otar con el Tenedor?",
      author: "Jos칠e Johnston & Anelyse Weiler (Cap. 23)",
      content: `
        <span class="subtitle">L칤mites del Consumo</span>
        <p>Johnston y Weiler critican la popular idea de que podemos "comprar" un mundo mejor (consumo 칠tico). Si bien elegir org치nico es bueno, a menudo es una pr치ctica elitista que excluye a la clase trabajadora. La verdadera justicia alimentaria requiere cambios estructurales, no solo individuales.</p>
      `
    }
  };

  /* --- CONFIGURACI칍N DE LA RED (VIS.JS) --- */
  const nodes = new vis.DataSet([
    // Centro
    { id: 0, label: "CAMBRIDGE\nVOL. 2", shape: "box", color: "#4a235a", font: {color:"white", size:22, face:"Playfair Display"} },

    // GRUPO FUEGO (Destacado)
    { id: 100, label: "Piropol칤tica\n(Marder)", group: "fire", shape: "hexagon", value: 25 },
    { id: 101, label: "Soul Fire\nFarm", group: "fire", shape: "hexagon", value: 25 },
    { id: 102, label: "Fracking\n(Fuego F칩sil)", group: "fire", shape: "hexagon", value: 20 },

    // GRUPO CUERPOS
    { id: 11, label: "Ruralidad\nQueer", group: "embodied", value: 20 },
    { id: 12, label: "Masculinidad\nIndustrial", group: "embodied", value: 20 },
    { id: 13, label: "Salud y\nT칩xicos", group: "embodied", value: 15 },

    // GRUPO NATURALEZA
    { id: 21, label: "Filosof칤a\nVegetal", group: "nature", value: 20 },
    { id: 22, label: "Actor-Red\n(ANT)", group: "nature", value: 15 },

    // GRUPO ALIMENTOS
    { id: 31, label: "Consumo\n칄tico", group: "food", value: 15 },
    { id: 32, label: "Comercio\nJusto", group: "food", value: 15 }
  ]);

  const edges = new vis.DataSet([
    // Conexiones Centrales
    { from: 0, to: 100, color: "#c0392b", width: 3 }, // Fuego directo al centro
    { from: 0, to: 11, width: 2 },
    { from: 0, to: 12, width: 2 },
    { from: 0, to: 21, width: 2 },
    { from: 0, to: 31, width: 2 },

    // Conexiones Fuego
    { from: 100, to: 21, dashes: true, label: "teor칤a" }, // Piropol칤tica <-> Plantas
    { from: 101, to: 11, dashes: true, label: "justicia" }, // Soul Fire <-> Queer Rurality
    { from: 102, to: 12, dashes: true, label: "identidad" }, // Fracking <-> Masculinidad

    // Otras conexiones
    { from: 11, to: 12 }, { from: 11, to: 13 },
    { from: 21, to: 22 },
    { from: 31, to: 32 }
  ]);

  const container = document.getElementById('network');
  const data = { nodes: nodes, edges: edges };
  const options = {
    nodes: {
      shape: 'dot',
      font: { face: 'Lato', color: '#2c3e50', multi: true },
      borderWidth: 2,
      shadow: true
    },
    groups: {
      embodied: { color: { background: '#d35400', border: '#a04000' } }, // Terracota
      nature: { color: { background: '#27ae60', border: '#1e8449' } },   // Verde
      food: { color: { background: '#f39c12', border: '#d68910' } },     // Amarillo
      fire: { 
        color: { background: '#c0392b', border: '#922b21' }, 
        font: { color: '#c0392b', face: 'Playfair Display', size: 16 } 
      }
    },
    edges: {
      color: { color: '#bdc3c7', highlight: '#4a235a' },
      smooth: { type: 'continuous' }
    },
    physics: {
      stabilization: false,
      barnesHut: { gravitationalConstant: -2500, springLength: 130 }
    },
    interaction: { hover: true }
  };

  const network = new vis.Network(container, data, options);

  /* --- L칍GICA DE INTERACCI칍N --- */
  network.on("click", function (params) {
    if (params.nodes.length > 0) {
      const nodeId = params.nodes[0];
      const info = db[nodeId];
      
      const sidebar = document.getElementById('sidebar');
      const contentDiv = document.getElementById('content-body');

      if (info) {
        contentDiv.innerHTML = `
          <span class="article-type">${info.type}</span>
          <h2 class="article-title">${info.title}</h2>
          <div class="author-tag">${info.author}</div>
          ${info.content}
        `;
      } else {
        contentDiv.innerHTML = `
          <h2 class="article-title">Cap칤tulo del Manual</h2>
          <p>Explore los nodos conectados para ver detalles espec칤ficos.</p>
        `;
      }
      sidebar.classList.add('open');
    }
  });

  function closeSidebar() {
    document.getElementById('sidebar').classList.remove('open');
  }

  // Filtros
  function filterNodes(group, btn) {
    document.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');

    const allIds = nodes.getIds();
    
    if (group === 'all') {
      nodes.update(allIds.map(id => ({id: id, hidden: false})));
    } else {
      let targetGroups = [group];
      if (group === 'fire') targetGroups = ['fire']; // Solo fuego
      
      const updates = allIds.map(id => {
        const node = nodes.get(id);
        const isVisible = (id === 0) || targetGroups.includes(node.group);
        return { id: id, hidden: !isVisible };
      });
      nodes.update(updates);
    }
    
    if (group === 'fire') {
      network.fit({ nodes: [0, 100, 101, 102], animation: true });
    } else {
      network.fit({ animation: true });
    }
  }
</script>
</body>
</html>
