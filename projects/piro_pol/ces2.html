<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Cambridge Handbook Vol. 2: Pr치ctica y Justicia</title>
<script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

<style>
  :root {
    --vol2-color: #8e44ad; /* Morado para diferenciar del Vol 1 */
    --body-color: #d35400; /* Terracota para "Cuerpos" */
    --nature-color: #27ae60; /* Verde para "M치s all치 de lo humano" */
    --fire-color: #c0392b;   /* Rojo intenso para Fuego */
    --text-dark: #2c3e50;
    --paper-bg: #fdfbf7;
    --panel-width: 480px;
  }

  body, html {
    margin: 0; padding: 0;
    width: 100%; height: 100%;
    font-family: 'Montserrat', sans-serif;
    background-color: var(--paper-bg);
    color: var(--text-dark);
    overflow: hidden;
  }

  /* --- RED --- */
  #network {
    width: 100%; height: 100vh;
    background: radial-gradient(circle at 50% 50%, #ffffff 0%, #f4ecdf 100%);
  }

  /* --- INTERFAZ --- */
  .header-overlay {
    position: absolute;
    top: 20px; left: 20px;
    pointer-events: none;
    z-index: 10;
  }

  .main-title {
    font-family: 'Libre Baskerville', serif;
    font-size: 1.8rem;
    color: var(--vol2-color);
    margin: 0;
    text-shadow: 2px 2px 0px rgba(255,255,255,0.8);
    pointer-events: auto;
  }

  .sub-title {
    font-size: 0.9rem;
    font-weight: 500;
    color: #555;
    background: rgba(255,255,255,0.8);
    padding: 2px 5px;
    pointer-events: auto;
  }

  /* Botonera */
  .controls {
    position: absolute;
    top: 100px; left: 20px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    z-index: 100;
  }

  .nav-btn {
    background: white;
    border: none;
    border-left: 5px solid #ccc;
    padding: 10px 20px;
    font-family: 'Montserrat', sans-serif;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    box-shadow: 2px 2px 10px rgba(0,0,0,0.05);
    transition: transform 0.2s, border-color 0.2s;
    text-align: left;
    width: 200px;
  }

  .nav-btn:hover { transform: translateX(5px); }
  .nav-btn.active { background: #fff; transform: translateX(10px); }

  .btn-body { border-color: var(--body-color); color: var(--body-color); }
  .btn-nature { border-color: var(--nature-color); color: var(--nature-color); }
  .btn-fire { border-color: var(--fire-color); color: var(--fire-color); } 
  .btn-fire.active { background: var(--fire-color); color: white; }

  /* --- PANEL LATERAL --- */
  .sidebar {
    position: absolute;
    right: 0; top: 0;
    width: var(--panel-width);
    height: 100vh;
    background: white;
    box-shadow: -5px 0 30px rgba(0,0,0,0.1);
    transform: translateX(100%);
    transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1);
    display: flex;
    flex-direction: column;
    z-index: 200;
    border-left: 8px solid var(--vol2-color);
  }

  .sidebar.open { transform: translateX(0); }

  .panel-header {
    padding: 40px 30px 20px;
    background: var(--paper-bg);
    border-bottom: 1px solid #eee;
  }

  .chapter-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: #999;
    margin-bottom: 10px;
    display: block;
  }

  h2.panel-title {
    font-family: 'Libre Baskerville', serif;
    font-size: 1.6rem;
    color: var(--text-dark);
    margin: 0;
    line-height: 1.3;
  }

  .author-meta {
    font-style: italic;
    color: var(--vol2-color);
    margin-top: 10px;
    font-size: 0.95rem;
  }

  .panel-content {
    padding: 30px;
    overflow-y: auto;
    flex: 1;
    font-size: 0.95rem;
    line-height: 1.8;
    color: #444;
  }

  /* Cajas de Texto */
  .highlight-box {
    background: #f0f3f4;
    padding: 15px;
    border-radius: 4px;
    margin: 20px 0;
    border-left: 3px solid var(--vol2-color);
  }

  .fire-box {
    background: #fdedec;
    border-left: 3px solid var(--fire-color);
    color: #78281f;
  }

  .quote {
    font-family: 'Libre Baskerville', serif;
    font-size: 1.1rem;
    color: #333;
    margin: 20px 0;
    padding-left: 20px;
    border-left: 2px solid #ccc;
  }

  .close-btn {
    position: absolute;
    top: 20px; right: 20px;
    background: none; border: none;
    font-size: 1.5rem; cursor: pointer;
    color: #aaa;
  }

  .footer {
    padding: 15px;
    text-align: center;
    font-size: 0.7rem;
    color: #ccc;
    border-top: 1px solid #eee;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .sidebar { width: 100%; border-left: none; border-top: 8px solid var(--vol2-color); }
    .controls { top: auto; bottom: 20px; flex-direction: row; width: 100%; overflow-x: auto; left: 0; padding: 0 10px; }
    .nav-btn { min-width: 120px; font-size: 0.75rem; padding: 8px; }
  }
</style>
</head>
<body>

<div class="header-overlay">
  <h1 class="main-title">Cambridge Handbook Vol. 2</h1>
  <div class="sub-title">Pr치ctica, Cuerpos y Movimientos Sociales</div>
</div>

<div id="network"></div>

<div class="controls">
  <button class="nav-btn btn-body active" onclick="filterNetwork('all', this)">Vista General</button>
  <button class="nav-btn btn-body" onclick="filterNetwork('embodied', this)">Sociolog칤a del Cuerpo</button>
  <button class="nav-btn btn-nature" onclick="filterNetwork('nature', this)">M치s all치 de lo Humano</button>
  <button class="nav-btn btn-body" onclick="filterNetwork('food', this)">Justicia Alimentaria</button>
  <button class="nav-btn btn-fire" onclick="filterNetwork('fire', this)">游댠 Rastros del Fuego</button>
</div>

<div class="sidebar" id="sidebar">
  <button class="close-btn" onclick="closeSidebar()">칑</button>
  <div class="panel-header">
    <span class="chapter-label" id="p-label">Secci칩n</span>
    <h2 class="panel-title" id="p-title">T칤tulo del Cap칤tulo</h2>
    <div class="author-meta" id="p-author">Autor(es)</div>
  </div>
  <div class="panel-content" id="p-content">
    Contenido...
  </div>
  <div class="footer">Elaborado por Maria Angelica Suarez Ribera</div>
</div>

<script>
/* --- DATOS: VOLUMEN 2 (Enfoque Pr치ctico/Social) --- */
const db = {
  // NODO CENTRAL
  0: {
    label: "VOLUMEN 2:\nPR츼CTICA",
    title: "Conceptualizando la Pr치ctica",
    author: "Legun, Keller, Carolan & Bell",
    content: `
      <p>Mientras el Volumen 1 se centraba en la teor칤a, este segundo volumen aborda la <strong>praxis de la sociolog칤a ambiental</strong>. Se pregunta c칩mo las teor칤as se materializan en cuerpos, alimentos, tecnolog칤as y movimientos sociales.</p>
      <div class="highlight-box">
        "El cambio, la aceptaci칩n del cambio y la normalizaci칩n de un cambio continuo significativo es una caracter칤stica definitoria de nuestra era."
      </div>
      <p>El libro desaf칤a las fronteras tradicionales, incluyendo secciones sobre g칠nero y sexualidad (cuerpos), ontolog칤as ind칤genas, y la agencia de plantas y animales, movi칠ndose m치s all치 del antropocentrismo cl치sico.</p>
    `
  },

  // --- CLUSTER: RASTROS DEL FUEGO (FIRE) ---
  100: {
    label: "PIROPOL칈TICA\n(Marder)",
    title: "Filosof칤a Vegetal y Piropol칤tica",
    author: "Michael Marder (Cap. 10)",
    content: `
      <div class="fire-box">
        <strong>Conexi칩n con el Fuego:</strong> Aunque su cap칤tulo se centra en las plantas ("Plants and Philosophy"), la biograf칤a de Marder en este volumen destaca su obra <em>"Pyropolitics: When the World Is Ablaze"</em> (Piropol칤tica: Cuando el mundo est치 en llamas).
      </div>
      <p>Marder propone que nuestra era no es solo geol칩gica (Antropoceno) sino pol칤tica y elementalmente definida por el fuego: desde la quema de combustibles f칩siles hasta la incineraci칩n de la biodiversidad. En su cap칤tulo, argumenta que debemos superar la "ceguera vegetal" para entender c칩mo la vida (y su quema) estructura nuestra pol칤tica.</p>
    `
  },
  101: {
    label: "SOUL FIRE\nFARM",
    title: "Farming While Black: Soul Fire Farm",
    author: "Leah Penniman (Ref. en Conclusi칩n y Cap. 5)",
    content: `
      <div class="fire-box">
        <strong>El Fuego del Alma:</strong> El libro destaca el trabajo de <em>Soul Fire Farm</em>, una granja de justicia alimentaria que trabaja para desmantelar el racismo en el sistema alimentario.
      </div>
      <p>Mencionado en el contexto de movimientos rurales y queer, <em>Soul Fire</em> representa el fuego como regeneraci칩n y resistencia. Frente a la blanquitud del espacio rural (discutida por Julie Keller), Soul Fire Farm utiliza pr치cticas ancestrales para reclamar la tierra y la soberan칤a alimentaria para comunidades negras e ind칤genas.</p>
    `
  },
  102: {
    label: "FRACKING Y\nSILENCIO",
    title: "El Silencio es Oro en la Zona de Fracking",
    author: "Debra J. Davidson (Cap. 19)",
    content: `
      <div class="fire-box">
        <strong>Fuego F칩sil:</strong> El fracking es la extracci칩n violenta de gas combustible. Davidson analiza c칩mo esta industria no solo fractura la roca, sino tambi칠n la comunidad.
      </div>
      <p>Davidson documenta c칩mo la industria del gas y petr칩leo suprime la disidencia pol칤tica. En lugar de un debate p칰blico ruidoso, encuentra un "silencio" impuesto socialmente en las comunidades afectadas, donde hablar contra la industria (y su fuego/energ칤a) se ve como una traici칩n a la econom칤a local.</p>
    `
  },

  // --- CLUSTER: CUERPOS (EMBODIED) ---
  1: {
    label: "Sociolog칤a\nCorp칩rea",
    title: "Parte II: Sociolog칤a Ambiental Corp칩rea",
    author: "Introducci칩n a la Secci칩n",
    content: `
      <p>Esta secci칩n es innovadora al traer el <strong>cuerpo</strong> al centro de la sociolog칤a ambiental. Ya no es solo "el medio ambiente all치 afuera", sino c칩mo el ambiente entra en nuestros cuerpos (t칩xicos) y c칩mo nuestros cuerpos (g칠nero/raza) experimentan el ambiente.</p>
    `
  },
  11: {
    label: "Ruralidad\nLGBTQ",
    title: "쮼xtra침os en la Tierra? Ruralidad Queer",
    author: "Julie C. Keller (Cap. 5)",
    content: `
      <p>Keller desaf칤a la idea de que lo rural es inherentemente conservador y heterosexual. Analiza la "metronormatividad" (la idea de que las personas queer deben migrar a la ciudad para ser libres) y recupera la historia de movimientos rurales LGBTQ que buscan una sostenibilidad queer, conectando la justicia sexual con la justicia de la tierra.</p>
    `
  },
  12: {
    label: "Masculinidad\nT칩xica",
    title: "Masculinidad y Medio Ambiente",
    author: "Kathryn Gregory Anderson (Cap. 6)",
    content: `
      <p>쮼s la destrucci칩n ambiental un acto de g칠nero? Anderson explora c칩mo ciertas formas de <strong>masculinidad hegem칩nica industrial</strong> (el hombre que conquista la naturaleza, el le침ador, el perforador) son hostiles al ecologismo.</p>
      <div class="quote">"Las soluciones verdes a menudo se perciben como afeminadas o 'no masculinas', creando barreras culturales para la sostenibilidad."</div>
    `
  },
  13: {
    label: "Salud y\nToxicidad",
    title: "Toxicidad, Salud y Ambiente",
    author: "Carrera & Brown (Cap. 7)",
    content: `
      <p>Este cap칤tulo integra la salud p칰blica con la sociolog칤a. Analiza c칩mo las estructuras de poder determinan qui칠n vive en ambientes t칩xicos. Critica la medicina convencional por ignorar las causas ambientales del c치ncer (como la leucemia, analizada por Manuel Vall칠e en el Cap. 8) y centrarse solo en la "cura" individual o gen칠tica.</p>
    `
  },

  // --- CLUSTER: M츼S ALL츼 DE LO HUMANO (NATURE) ---
  2: {
    label: "M치s all치\nde lo Humano",
    title: "Parte III: Beyond the Human",
    author: "Legun, Marder, DeMello",
    content: `
      <p>La sociolog칤a tradicional se defin칤a por estudiar solo a los humanos. Esta secci칩n rompe esa barrera, incorporando la Teor칤a del Actor-Red (ANT) y los Nuevos Materialismos.</p>
    `
  },
  21: {
    label: "Plantas y\nFilosof칤a",
    title: "Filosof칤a de las Plantas",
    author: "Michael Marder (Cap. 10)",
    content: `
      <p>Marder cuestiona la marginaci칩n de las plantas en la teor칤a social. Las plantas no son un fondo pasivo; tienen una forma de "pensar" y ser que es radicalmente diferente a la humana. Una sociolog칤a vegetal nos obliga a repensar la agencia, el crecimiento y la pasividad.</p>
    `
  },
  22: {
    label: "ANT y\nAgencia",
    title: "Teor칤a del Actor-Red (ANT)",
    author: "Katharine Legun & Abbi Virens (Cap. 9)",
    content: `
      <p>Analizan c칩mo la ANT (asociada a Latour) ofrece herramientas para entender c칩mo los objetos (tecnolog칤as, microbios, semillas) act칰an en redes sociales. No hay "sociedad" separada de las cosas que la sostienen.</p>
    `
  },

  // --- CLUSTER: ALIMENTOS Y JUSTICIA (FOOD) ---
  3: {
    label: "Sistemas\nAlimentarios",
    title: "Parte VI: Alimentos y Agricultura",
    author: "Carolan, Johnston, Weiler",
    content: `
      <p>La comida es el punto donde la naturaleza y la cultura se encuentran m치s 칤ntimamente. Esta secci칩n analiza desde la biotecnolog칤a hasta los movimientos de "foodies".</p>
    `
  },
  31: {
    label: "Comer el\nFuturo",
    title: "쮺omer hacia un Futuro Sostenible?",
    author: "Jos칠e Johnston & Anelyse Weiler (Cap. 23)",
    content: `
      <p>Critican la idea de que podemos "comprar" nuestra salida de la crisis ambiental a trav칠s del consumo 칠tico (voto con el tenedor). Si bien el consumo consciente es importante, a menudo refuerza desigualdades de clase y raza si no va acompa침ado de cambios estructurales en el sistema de producci칩n.</p>
    `
  },
  32: {
    label: "Comercio\nJusto",
    title: "El Movimiento Global de Comercio Justo",
    author: "Elizabeth A. Bennett (Cap. 27)",
    content: `
      <p>Bennett analiza la evoluci칩n del Fair Trade. 쯇ara qui칠n es? Originalmente un movimiento radical de solidaridad Norte-Sur, corre el riesgo de ser cooptado por corporaciones que diluyen sus est치ndares para acceder a nichos de mercado, convirtiendo la justicia en una etiqueta de marketing.</p>
    `
  }
};

/* --- CONFIGURACI칍N DE VIS.JS --- */
const nodes = new vis.DataSet([
  // Centro
  { id: 0, label: "CAMBRIDGE\nVOL. 2", shape: "circle", color: "#8e44ad", font: {color:"white", size:20, face:"Libre Baskerville"}, size: 50 },

  // GRUPO FUEGO (Highlight)
  { id: 100, label: "Piropol칤tica\n(Marder)", group: "fire", shape: "star", size: 30 },
  { id: 101, label: "Soul Fire\nFarm", group: "fire", shape: "star", size: 30 },
  { id: 102, label: "Fracking\n(Gas/Fuego)", group: "fire", shape: "star", size: 25 },

  // GRUPO CUERPOS
  { id: 1, label: "Sociolog칤a\nCorp칩rea", group: "embodied", value: 20 },
  { id: 11, label: "Ruralidad\nQueer", group: "embodied", value: 15 },
  { id: 12, label: "Masculinidad\nT칩xica", group: "embodied", value: 15 },
  { id: 13, label: "Salud y\nToxicidad", group: "embodied", value: 15 },

  // GRUPO NATURALEZA
  { id: 2, label: "M치s all치\nde lo Humano", group: "nature", value: 20 },
  { id: 21, label: "Filosof칤a\nVegetal", group: "nature", value: 15 },
  { id: 22, label: "ANT y\nAgencia", group: "nature", value: 15 },

  // GRUPO ALIMENTOS
  { id: 3, label: "Alimentos y\nAgricultura", group: "food", value: 20 },
  { id: 31, label: "Consumo\n칄tico", group: "food", value: 15 },
  { id: 32, label: "Comercio\nJusto", group: "food", value: 15 }
]);

const edges = new vis.DataSet([
  // Conexiones Centrales
  { from: 0, to: 1, width: 2 },
  { from: 0, to: 2, width: 2 },
  { from: 0, to: 3, width: 2 },
  
  // Conexiones Fuego (Derivadas de sus temas originales)
  { from: 21, to: 100, label: "teor칤a", color: "#c0392b", dashes: true }, // Plantas -> Piropol칤tica
  { from: 3, to: 101, label: "justicia", color: "#c0392b", dashes: true }, // Alimentos -> Soul Fire
  { from: 0, to: 102, label: "recursos", color: "#c0392b" }, // Centro -> Fracking

  // Ramas Cuerpos
  { from: 1, to: 11 }, { from: 1, to: 12 }, { from: 1, to: 13 },

  // Ramas Naturaleza
  { from: 2, to: 21 }, { from: 2, to: 22 },

  // Ramas Alimentos
  { from: 3, to: 31 }, { from: 3, to: 32 },

  // Conexiones Transversales
  { from: 12, to: 102, label: "masculinidad industrial", dashes: true }, // Masculinidad -> Fracking
  { from: 11, to: 101, label: "inclusi칩n rural", dashes: true } // Queer -> Soul Fire Farm
]);

const container = document.getElementById('network');
const data = { nodes: nodes, edges: edges };
const options = {
  nodes: {
    font: { face: 'Montserrat', color: '#2c3e50' },
    borderWidth: 2,
    shadow: true
  },
  groups: {
    embodied: { color: { background: '#edbb99', border: '#d35400' } },
    nature: { color: { background: '#abebc6', border: '#27ae60' } },
    food: { color: { background: '#f9e79f', border: '#f1c40f' } },
    fire: { color: { background: '#fadbd8', border: '#c0392b' }, font: {size: 16, face: 'Libre Baskerville'} }
  },
  edges: {
    color: { color: '#bdc3c7', highlight: '#8e44ad' },
    smooth: { type: 'continuous' }
  },
  physics: {
    stabilization: false,
    barnesHut: { gravitationalConstant: -3000, springLength: 150 }
  },
  interaction: { hover: true }
};

const network = new vis.Network(container, data, options);

/* --- INTERACCI칍N --- */
network.on("click", function (params) {
  if (params.nodes.length > 0) {
    const nodeId = params.nodes[0];
    const info = db[nodeId];
    if (info) {
      document.getElementById('p-label').innerText = info.label.replace('\n', ' ');
      document.getElementById('p-title').innerText = info.title;
      document.getElementById('p-author').innerText = info.author;
      document.getElementById('p-content').innerHTML = info.content;
      document.getElementById('sidebar').classList.add('open');
    }
  }
});

function closeSidebar() {
  document.getElementById('sidebar').classList.remove('open');
}

function filterNetwork(type, btn) {
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');

  const allIds = nodes.getIds();
  let targetGroups = [];

  if (type === 'all') {
    nodes.update(allIds.map(id => ({id: id, hidden: false})));
    network.fit();
    return;
  }

  if (type === 'embodied') targetGroups = ['embodied'];
  if (type === 'nature') targetGroups = ['nature'];
  if (type === 'food') targetGroups = ['food'];
  if (type === 'fire') targetGroups = ['fire'];

  const updates = allIds.map(id => {
    const node = nodes.get(id);
    const show = (id === 0) || targetGroups.includes(node.group);
    return { id: id, hidden: !show };
  });
  
  nodes.update(updates);
  
  if(type === 'fire') {
    network.fit({ nodes: [0, 100, 101, 102], animation: true });
  } else {
    network.fit({ animation: true });
  }
}
</script>
</body>
</html>
