<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Visor Educativo ‚Äî CIRCPyCS</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        :root { 
            --primary: #004494; 
            --dark: #0f172a; 
            --bg: #f8fafc; 
            --accent: #f59e0b;
        }
        body { margin: 0; padding: 0; font-family: 'Inter', sans-serif; background: var(--bg); overflow: hidden; color: var(--dark); }
        #mapa { width: 100vw; height: 100vh; z-index: 1; background: #e2e8f0; }

        /* HEADER INSTITUCIONAL (Luminoso) */
        #header {
            position: absolute; top: 15px; left: 15px; z-index: 1000;
            background: rgba(255,255,255,0.95); backdrop-filter: blur(8px);
            padding: 10px 20px; border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 15px;
            flex-wrap: wrap; max-width: calc(100vw - 30px);
        }
        #header img { height: 35px; }
        #header-text h1 { margin: 0; font-size: 14px; color: var(--primary); text-transform: uppercase; font-weight: 800; }
        #header-text p { margin: 0; font-size: 10px; color: #64748b; font-weight: 600; letter-spacing: 0.5px;}

        /* BUSCADOR DE CIUDADES */
        .search-container {
            display: flex; align-items: center; background: #f1f5f9; 
            border-radius: 8px; padding: 6px 12px; margin-left: 10px; border: 1px solid #e2e8f0; transition: 0.3s;
        }
        .search-container:hover { border-color: var(--primary); }
        .search-container i { color: var(--primary); margin-right: 8px; font-size: 14px; }
        .search-container select {
            border: none; background: transparent; outline: none; font-family: 'Inter';
            font-size: 12px; color: var(--dark); width: 180px; cursor: pointer; font-weight: 500;
        }

        /* BOT√ìN ACERCA DE */
        .btn-info {
            background: var(--primary); color: white; border: none; padding: 7px 14px;
            border-radius: 8px; font-size: 11px; font-weight: 700; cursor: pointer;
            transition: 0.2s; display: flex; align-items: center; gap: 6px; margin-left: auto;
            box-shadow: 0 2px 4px rgba(0,68,148,0.2);
        }
        .btn-info:hover { background: #003377; transform: translateY(-1px); }

        /* PANEL DE ALGORITMOS (Izquierda Flotante) */
        #ui-controls {
            position: absolute; top: 80px; left: 15px; z-index: 1000;
            background: rgba(255,255,255,0.95); backdrop-filter: blur(8px);
            padding: 20px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 320px; border: 1px solid #f1f5f9;
        }
        select.ds-select {
            width: 100%; padding: 10px; background: #f8fafc; border: 1px solid #cbd5e1;
            color: var(--dark); font-family: 'Inter'; font-size: 12px; font-weight: 600; border-radius: 8px;
            outline: none; margin-bottom: 15px; cursor: pointer; transition: 0.3s;
        }
        select.ds-select:hover, select.ds-select:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(0,68,148,0.1); }
        
        .legend-bar { display: flex; height: 12px; border-radius: 6px; overflow: hidden; margin: 15px 0 6px 0; border: 1px solid #e2e8f0; }
        .legend-bar div { flex: 1; }
        .legend-labels { display: flex; justify-content: space-between; font-size: 10px; color: #64748b; font-weight: 700; text-transform: uppercase;}

        /* EXPEDIENTE ANAL√çTICO (Panel Derecho Deslizante) */
        #side-panel {
            position: absolute; right: 0; top: 0; width: 400px; height: 100vh;
            background: white; z-index: 1001; box-shadow: -5px 0 25px rgba(0,0,0,0.1);
            display: flex; flex-direction: column; transform: translateX(120%);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        #side-panel.active { transform: translateX(0); }
        
        .btn-cerrar {
            position: absolute; top: 15px; right: 15px; background: #f1f5f9; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; color: #64748b; transition: 0.2s;
        }
        .btn-cerrar:hover { background: #e2e8f0; color: var(--dark); }
        
        .panel-scroll { flex-grow: 1; overflow-y: auto; padding: 30px; }

        /* Estilos del Dashboard de Datos */
        .score-box { text-align: center; padding: 25px 20px; background: #f8fafc; border-radius: 16px; margin-bottom: 25px; border: 1px solid #e2e8f0; }
        .score-value { font-size: 48px; font-weight: 800; line-height: 1; background: linear-gradient(135deg, #f59e0b, #ef4444); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 5px; }
        
        .metric-group { margin-bottom: 18px; }
        .metric-header { display: flex; justify-content: space-between; font-size: 11px; color: #64748b; margin-bottom: 6px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;}
        .metric-val { font-weight: 800; color: var(--dark); font-size: 13px; }
        .metric-track { width: 100%; height: 8px; background: #e2e8f0; border-radius: 4px; overflow: hidden; }
        .metric-fill { height: 100%; border-radius: 4px; transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1); }

        /* MODAL ACERCA DE */
        #modal-overlay {
            position: fixed; inset: 0; background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(4px);
            z-index: 9999; display: none; align-items: center; justify-content: center;
        }
        .modal-card {
            background: white; width: 90%; max-width: 550px; border-radius: 16px;
            padding: 35px; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.2); position: relative;
        }
        .modal-close { position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 20px; color: #64748b; cursor: pointer; }
        .modal-card h2 { margin-top: 0; color: var(--primary); font-size: 22px; font-weight: 800; }
        .modal-card h3 { font-size: 14px; color: var(--dark); margin-top: 25px; border-bottom: 2px solid #f1f5f9; padding-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 700;}
        .modal-card p { font-size: 13px; color: #475569; line-height: 1.6; text-align: justify; margin-top: 10px;}
        .modal-card a { color: var(--primary); text-decoration: none; font-weight: 700; display: inline-flex; align-items: center; gap: 5px; margin-top: 10px;}
        .modal-card a:hover { text-decoration: underline; color: #003377; }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Ajustes M√≥viles */
        @media (max-width: 768px) {
            #ui-controls { top: auto; bottom: 20px; left: 15px; width: calc(100vw - 30px); }
            #side-panel { width: 100%; height: 85vh; top: auto; bottom: 0; transform: translateY(120%); border-radius: 24px 24px 0 0; }
            #side-panel.active { transform: translateY(0); }
            .search-container { display: none; /* Ocultar buscador en m√≥vil para ahorrar espacio */ }
        }
    </style>
</head>
<body>

    <div id="modal-overlay">
        <div class="modal-card">
            <button class="modal-close" onclick="cerrarModal()"><i class="fa-solid fa-xmark"></i></button>
            <h2>CIRCPyCS ‚Äî UAGRM</h2>
            <p>El <strong>Centro de Investigaci√≥n Regional en Ciencia Pol√≠tica y Ciencias Sociales</strong> presenta el <em>Visor Educativo</em>, una plataforma de Data Science espacial dise√±ada para identificar y medir las brechas de vulnerabilidad escolar a nivel de manzano urbano.</p>
            
            <h3><i class="fa-solid fa-code-branch text-amber-500"></i> Metodolog√≠a y Extracci√≥n</h3>
            <p>La fuente primaria de informaci√≥n corresponde al <strong>Instituto Nacional de Estad√≠stica (INE)</strong> (Censo 2024).</p>
            <p>El proceso de extracci√≥n, limpieza y consolidaci√≥n geom√©trica de la base de datos a formato GeoJSON fue dise√±ado originalmente por el ingeniero de datos <strong>Mauricio Foronda</strong>. Reconocemos y agradecemos su aporte al c√≥digo abierto boliviano.</p>
            <a href="https://github.com/mauforonda" target="_blank"><i class="fa-brands fa-github"></i> Ver repositorio original en GitHub</a>

            <h3><i class="fa-solid fa-microchip text-blue-500"></i> Ciencia de Datos Educativa</h3>
            <p>El dise√±o de la interfaz anal√≠tica, la creaci√≥n de los algoritmos de riesgo (ej. IREM) y la estructuraci√≥n del modelo educativo territorializado fueron desarrollados √≠ntegramente por el equipo de investigaci√≥n del <strong>CIRCPyCS</strong>.</p>
        </div>
    </div>

    <div id="header">
        <img src="https://i.imgur.com/ldeXZmG.png" alt="CIRCPyCS">
        <div id="header-text">
            <h1>Visor Educativo</h1>
            <p>Inteligencia Territorial</p>
        </div>
        
        <div class="search-container">
            <i class="fa-solid fa-location-crosshairs"></i>
            <select id="buscador-ciudades" onchange="volarACiudad(this.value)">
                <option value="">Buscar ciudad o municipio...</option>
            </select>
        </div>

        <button class="btn-info" onclick="abrirModal()">
            <i class="fa-solid fa-circle-info"></i> Acerca de
        </button>
    </div>

    <div id="ui-controls">
        <h2 class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-2">
            <i class="fa-solid fa-microchip text-cordis-blue"></i> Algoritmo de Procesamiento
        </h2>
        
        <select id="layer-selector" class="ds-select" onchange="cambiarCapa()">
            <option value="irem">üî• √çndice de Riesgo Educativo Multidimensional (IREM)</option>
            <option value="densidad_joven">üë• Presi√≥n Demogr√°fica Escolar (Hab/Ha)</option>
            <option value="capital_cultural">üéì Capital Cultural del Hogar</option>
            <option value="aislamiento_tec">üì° Aislamiento Tecnol√≥gico</option>
            <option value="brecha_genero_edu">‚öñÔ∏è Brecha de G√©nero Educativa</option>
        </select>

        <div class="pt-3 border-t border-slate-200">
            <h3 class="text-sm font-bold text-slate-800 mb-1" id="leg-title">IREM</h3>
            <p class="text-[10px] text-slate-500 leading-relaxed mb-0" id="leg-desc">Algoritmo compuesto que eval√∫a la vulnerabilidad estructural.</p>
            
            <div class="legend-bar" id="leg-colors"></div>
            <div class="legend-labels">
                <span id="leg-min">Bajo Riesgo</span>
                <span id="leg-max">Alto Riesgo</span>
            </div>
        </div>
        
        <div id="loader" class="mt-3 text-center text-[10px] text-amber-600 font-bold bg-amber-50 p-2 rounded border border-amber-100 hidden">
            <i class="fa-solid fa-circle-notch fa-spin"></i> Procesando matriz espacial...
        </div>
    </div>

    <div id="side-panel">
        <button class="btn-cerrar" onclick="cerrarPanel()"><i class="fa-solid fa-chevron-right text-lg"></i></button>
        
        <div class="panel-scroll">
            <div class="flex items-center gap-3 mb-6 border-b border-slate-100 pb-4">
                <div class="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-cordis-blue text-lg"><i class="fa-solid fa-microscope"></i></div>
                <div>
                    <h2 class="text-sm font-bold text-slate-800 m-0 uppercase tracking-wide">Ficha T√©cnica</h2>
                    <p class="text-[10px] text-slate-500 m-0">An√°lisis espec√≠fico de manzano</p>
                </div>
            </div>

            <div class="score-box">
                <div class="text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-2">Score IREM Obtenido</div>
                <div class="score-value" id="res-score">00.0</div>
                <div class="inline-block mt-2 px-3 py-1 bg-white rounded-full text-xs font-bold border" id="res-score-badge">
                    Riesgo Cr√≠tico
                </div>
            </div>

            <h3 class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4">Vectores Desagregados</h3>

            <div class="metric-group">
                <div class="metric-header"><span>Presi√≥n Demogr√°fica (<20)</span> <span class="metric-val text-emerald-600" id="m-jovenes">0%</span></div>
                <div class="metric-track"><div class="metric-fill bg-emerald-500" id="b-jovenes"></div></div>
            </div>

            <div class="metric-group">
                <div class="metric-header"><span>Capital Cultural (Ed. Sup)</span> <span class="metric-val text-blue-600" id="m-edu">0%</span></div>
                <div class="metric-track"><div class="metric-fill bg-blue-500" id="b-edu"></div></div>
            </div>

            <div class="metric-group">
                <div class="metric-header"><span>Aislamiento Digital</span> <span class="metric-val text-rose-600" id="m-net">0%</span></div>
                <div class="metric-track"><div class="metric-fill bg-rose-500" id="b-net"></div></div>
            </div>

            <div class="metric-group">
                <div class="metric-header"><span>Estr√©s Econ√≥mico</span> <span class="metric-val text-amber-600" id="m-dep">0%</span></div>
                <div class="metric-track"><div class="metric-fill bg-amber-500" id="b-dep"></div></div>
            </div>

            <div class="mt-8 p-4 bg-slate-50 rounded-xl border border-slate-200 grid grid-cols-2 gap-4">
                <div class="text-center border-r border-slate-200">
                    <div class="text-[9px] text-slate-500 uppercase font-bold mb-1">Poblaci√≥n Total</div>
                    <div class="text-lg font-bold text-slate-800" id="m-pob">0</div>
                </div>
                <div class="text-center">
                    <div class="text-[9px] text-slate-500 uppercase font-bold mb-1">Desarraigo (Migrantes)</div>
                    <div class="text-lg font-bold text-slate-800" id="m-mig">0%</div>
                </div>
            </div>
        </div>
    </div>

    <div id="mapa"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // ==========================================
        // ALGORITMOS DATA SCIENCE Y CONFIGURACI√ìN
        // ==========================================
        
        // Paletas de color optimizadas para mapa claro (Light Theme)
        const paletas = {
            // YlOrRd (Amarillo a Rojo oscuro) - Ideal para riesgos
            riesgo: ['#fee5d9', '#fcae91', '#fb6a4a', '#de2d26', '#a50f15'], 
            // Blues (Celeste a Azul oscuro) - Ideal para educaci√≥n/tecnolog√≠a
            educacion: ['#eff3ff', '#bdd7e7', '#6baed6', '#3182bd', '#08519c'], 
            // Greens (Verde claro a oscuro) - Ideal para demograf√≠a
            demografia: ['#edf8e9', '#bae4b3', '#74c476', '#31a354', '#006d2c'] 
        };

        const algoritmos = {
            'irem': {
                titulo: '√çndice de Riesgo Educativo Multidimensional',
                desc: 'Combina: Aislamiento Digital + Baja Educaci√≥n Adulta + Estr√©s Econ√≥mico.',
                maximo: 100, paleta: paletas.riesgo, formato: 'pts',
                calc: (d) => {
                    let falta_net = 1 - (d.viviendas_tics_internet || 0);
                    let falta_edu = 1 - (d.educacion_superior || 0);
                    let dep = (d.dependencia_economica || 0) / 100;
                    let dep_norm = Math.min(dep / 1.5, 1);
                    return ((falta_net + falta_edu + dep_norm) / 3) * 100;
                }
            },
            'densidad_joven': {
                titulo: 'Presi√≥n Demogr√°fica Escolar',
                desc: 'Cantidad absoluta estimada de menores de 20 a√±os por hect√°rea.',
                maximo: 80, paleta: paletas.demografia, formato: 'hab/ha',
                calc: (d) => (d.personas_por_hectarea || 0) * (d.porcentaje_menor20 || 0)
            },
            'capital_cultural': {
                titulo: 'Capital Cultural del Hogar',
                desc: 'Concentraci√≥n de adultos con estudios universitarios.',
                maximo: 0.40, paleta: paletas.educacion, formato: '%',
                calc: (d) => d.educacion_superior || 0
            },
            'aislamiento_tec': {
                titulo: 'Aislamiento Tecnol√≥gico',
                desc: 'Porcentaje de viviendas SIN acceso a internet.',
                maximo: 1.0, paleta: paletas.riesgo, formato: '%',
                calc: (d) => 1 - (d.viviendas_tics_internet || 0)
            },
            'brecha_genero_edu': {
                titulo: 'Brecha de G√©nero Educativa',
                desc: 'Desventaja educativa de la mujer respecto al hombre.',
                maximo: 0.15, paleta: paletas.riesgo, formato: '%',
                calc: (d) => Math.max(d.brecha_genero_educacion || 0, 0)
            }
        };

        let map, geojsonLayer, mapaDatos = null, traductor = {};
        let algoritmoActual = 'irem';

        // 1. Inicializar Mapa Base (Estilo Claro / Clean)
        const mapaClaro = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', { attribution: 'CIRCPyCS DS' });
        
        map = L.map('mapa', { zoomControl: false, layers: [mapaClaro] }).setView([-17.7833, -63.1821], 12);
        L.control.zoom({ position: 'bottomright' }).addTo(map);

        document.getElementById('loader').classList.remove('hidden');

        // 2. Carga de Datos y Diccionario
        fetch('campos.json')
            .then(res => { if(!res.ok) throw new Error(); return res.json(); })
            .then(data => {
                for (let k in data) traductor[data[k]] = k;
                
                cargarBuscadorCiudades();

                fetch('manzanos.geojson')
                    .then(r => r.json())
                    .then(geo => {
                        mapaDatos = geo;
                        document.getElementById('loader').classList.add('hidden');
                        renderizarCapa();
                        actualizarLeyenda();
                    });
            })
            .catch(() => alert("‚ö†Ô∏è Por seguridad, ejecuta el servidor Python (python -m http.server 8000) en esta carpeta para cargar los datos."));

        // 3. Funciones del Buscador
        function cargarBuscadorCiudades() {
            fetch('ciudades.json').then(res => res.json()).then(ciudades => {
                ciudades.sort((a, b) => a.nombre.localeCompare(b.nombre));
                const select = document.getElementById('buscador-ciudades');
                ciudades.forEach(c => {
                    let option = document.createElement('option');
                    option.value = `${c.y},${c.x}`;
                    option.textContent = `${c.nombre} (${c.municipio})`;
                    select.appendChild(option);
                });
            }).catch(e => console.log("No se encontr√≥ ciudades.json", e));
        }

        function volarACiudad(coords) {
            if (!coords) return;
            const [lat, lng] = coords.split(',');
            map.flyTo([lat, lng], 14, { duration: 2 });
            cerrarPanel(); 
        }

        // 4. Funciones de Renderizado (Data Science)
        function getColor(valor) {
            if (valor === undefined || isNaN(valor)) return 'transparent';
            let cfg = algoritmos[algoritmoActual];
            let ratio = valor / cfg.maximo;
            ratio = Math.max(0, Math.min(1, ratio)); // Limitar entre 0 y 1
            let index = Math.floor(ratio * (cfg.paleta.length - 0.01));
            return cfg.paleta[index];
        }

        function estiloPoligono(feature) {
            let d = {};
            for (let k in feature.properties) { if(traductor[k]) d[traductor[k]] = feature.properties[k]; }
            
            let valorCalculado = algoritmos[algoritmoActual].calc(d);

            return {
                fillColor: getColor(valorCalculado),
                weight: 0.5, opacity: 1, color: '#ffffff', fillOpacity: 0.85 // Borde blanco, look limpio
            };
        }

        function renderizarCapa() {
            if (geojsonLayer) map.removeLayer(geojsonLayer);
            geojsonLayer = L.geoJSON(mapaDatos, {
                style: estiloPoligono,
                onEachFeature: function(feature, layer) {
                    layer.on({
                        mouseover: (e) => { e.target.setStyle({ weight: 2, color: '#004494', fillOpacity: 1 }); e.target.bringToFront(); },
                        mouseout: (e) => { geojsonLayer.resetStyle(e.target); },
                        click: (e) => { 
                            map.flyToBounds(e.target.getBounds(), {padding: [100,100], maxZoom: 16});
                            procesarExpediente(feature.properties); 
                        }
                    });
                }
            }).addTo(map);
        }

        function cambiarCapa() {
            algoritmoActual = document.getElementById('layer-selector').value;
            renderizarCapa();
            actualizarLeyenda();
            cerrarPanel();
        }

        function actualizarLeyenda() {
            let cfg = algoritmos[algoritmoActual];
            document.getElementById('leg-title').innerText = cfg.titulo;
            document.getElementById('leg-desc').innerText = cfg.desc;
            
            let divColores = document.getElementById('leg-colors');
            divColores.innerHTML = '';
            cfg.paleta.forEach(c => divColores.innerHTML += `<div style="background:${c}"></div>`);

            let maxStr = cfg.formato === '%' ? Math.round(cfg.maximo*100)+'%' : cfg.maximo + ' ' + cfg.formato;
            document.getElementById('leg-max').innerText = "> " + maxStr;
        }

        // 5. An√°lisis del Manzano Seleccionado
        function procesarExpediente(p) {
            let d = {};
            for (let k in p) { if(traductor[k]) d[traductor[k]] = p[k]; }
            
            // Score IREM
            let scoreIREM = algoritmos['irem'].calc(d);
            let scoreFmt = isNaN(scoreIREM) ? 0 : scoreIREM.toFixed(1);
            document.getElementById('res-score').innerText = scoreFmt;
            
            let badge = document.getElementById('res-score-badge');
            if (scoreIREM > 75) { badge.innerText = 'Riesgo Cr√≠tico'; badge.style.borderColor = '#ef4444'; badge.style.color = '#ef4444'; }
            else if (scoreIREM > 50) { badge.innerText = 'Riesgo Alto'; badge.style.borderColor = '#f59e0b'; badge.style.color = '#f59e0b'; }
            else if (scoreIREM > 25) { badge.innerText = 'Riesgo Moderado'; badge.style.borderColor = '#3b82f6'; badge.style.color = '#3b82f6'; }
            else { badge.innerText = 'Bajo Riesgo'; badge.style.borderColor = '#22c55e'; badge.style.color = '#22c55e'; }

            // Barras Desagregadas
            const setBar = (id, val) => {
                let p = Math.round(val || 0);
                document.getElementById('m-'+id).innerText = p + '%';
                document.getElementById('b-'+id).style.width = Math.min(p, 100) + '%';
            };

            setBar('jovenes', (d.porcentaje_menor20 || 0) * 100);
            setBar('edu', (d.educacion_superior || 0) * 100);
            setBar('net', (1 - (d.viviendas_tics_internet || 0)) * 100); // 1 - internet = aislamiento
            setBar('dep', (d.dependencia_economica || 0)); // Viene en 100 base

            document.getElementById('m-pob').innerText = Math.round(d.personas || 0);
            document.getElementById('m-mig').innerText = Math.round((d.poblacion_migrante || 0) * 100) + '%';

            document.getElementById('side-panel').classList.add('active');
        }

        // 6. Utilidades de la UI
        function cerrarPanel() { document.getElementById('side-panel').classList.remove('active'); }
        function abrirModal() { document.getElementById('modal-overlay').style.display = 'flex'; }
        function cerrarModal() { document.getElementById('modal-overlay').style.display = 'none'; }
    </script>
</body>
</html>
