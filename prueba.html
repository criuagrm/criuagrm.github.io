<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIRCPyCS - Certificados de Investigadores</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f3f5;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        .project {
            background-color: #fff;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }
        .project:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        .generate-pdf-btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: #3498db;
            color: #fff;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .generate-pdf-btn:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>

<h1>Certificados de Investigadores del CIRCPyCS</h1>

<!-- Investigador 1 -->
<div class="project">
    <h3>Investigador: Nelson Jordan</h3>
    <p>Investigador principal en el área de Ciencias Políticas.</p>
    <button onclick="generarCertificado('Nelson Jordan')" class="generate-pdf-btn">Generar Certificado</button>
</div>

<!-- Investigador 2 -->
<div class="project">
    <h3>Investigador: María Suárez</h3>
    <p>Investigadora asociada en el área de Relaciones Internacionales.</p>
    <button onclick="generarCertificado('María Suárez')" class="generate-pdf-btn">Generar Certificado</button>
</div>

<!-- Más investigadores -->
<div class="project">
    <h3>Investigador: Ricardo Alonzo</h3>
    <p>Especialista en Derecho Constitucional y Relaciones Internacionales.</p>
    <button onclick="generarCertificado('Ricardo Alonzo')" class="generate-pdf-btn">Generar Certificado</button>
</div>

<!-- Agrega más investigadores aquí según sea necesario -->


    <script>
        async function generarCertificado(nombreInvestigador, tipoInvestigador, lineasInvestigacion) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Configuración del fondo blanco
            doc.setFillColor(255, 255, 255);
            doc.rect(0, 0, 210, 297, 'F'); // A4 en mm

            // Logo como marca de agua en el fondo
            const logoMarcaAgua = await cargarImagen("https://i.imgur.com/OjAw4PH.png");
            doc.addImage(logoMarcaAgua, "PNG", 40, 100, 130, 130, '', 'NONE', 45); // Marca de agua centrada

            // Logo en la esquina superior derecha
            const logoSuperiorDerecho = await cargarImagen("https://i.imgur.com/R952Ljv.png");
            doc.addImage(logoSuperiorDerecho, "PNG", 165, 15, 30, 30); // Logo superior derecha

            // Título del certificado
            doc.setFont("helvetica", "bold");
            doc.setFontSize(22);
            doc.setTextColor("#003366"); // Azul UAGRM
            doc.text("Centro de Investigación Regional", 105, 40, { align: "center" });
            doc.text("Certificado de Investigador", 105, 60, { align: "center" });

            // Cuerpo del certificado
            doc.setFont("helvetica", "normal");
            doc.setFontSize(14);
            doc.setTextColor(0, 0, 0); // Negro
            doc.text(`Este certificado acredita que ${nombreInvestigador},`, 105, 90, { align: "center" });
            doc.text(`quien ostenta el cargo de ${tipoInvestigador} en el Centro de Investigación en`, 105, 105, { align: "center" });
            doc.text("Ciencia Política y Ciencias Sociales (CIRCPyCS),", 105, 120, { align: "center" });
            doc.text("ha realizado contribuciones significativas en el ámbito de:", 105, 135, { align: "center" });

            // Líneas de investigación
            doc.setFontSize(12);
            doc.text("Líneas de Investigación:", 20, 150);
            lineasInvestigacion.forEach((linea, index) => {
                doc.text(`- ${linea}`, 30, 160 + index * 10);
            });

            // Mensaje de agradecimiento
            doc.setFontSize(12);
            doc.text(
                "Se extiende este certificado en reconocimiento a su dedicación y esfuerzo, que han permitido", 
                105, 
                200, 
                { align: "center" }
            );
            doc.text(
                "el avance en el conocimiento de ciencias políticas y sociales, promoviendo", 
                105, 
                215, 
                { align: "center" }
            );
            doc.text(
                "una investigación crítica e interdisciplinaria al servicio de nuestra comunidad académica.", 
                105, 
                230, 
                { align: "center" }
            );

            // Fecha de emisión
            doc.setFontSize(12);
            doc.text("Fecha de emisión: " + new Date().toLocaleDateString(), 105, 250, { align: "center" });

            // Firmas
            const imgDirector = await cargarImagen("https://i.imgur.com/o9tccxV.png");
            const imgDirectora = await cargarImagen("https://i.imgur.com/vvpbKq7.png");

            doc.addImage(imgDirector, "PNG", 50, 260, 40, 20);
            doc.addImage(imgDirectora, "PNG", 120, 260, 40, 20);

            // Títulos de las firmas
            doc.setFontSize(10);
            doc.text("Director de Carrera de Ciencia Política", 70, 285, { align: "center" });
            doc.text("Directora del Centro de Investigación", 140, 285, { align: "center" });

            // Guardar el PDF
            doc.save(`Certificado_${nombreInvestigador}.pdf`);
        }

        // Función para cargar imágenes desde URLs
        async function cargarImagen(url) {
            const img = new Image();
            img.crossOrigin = "anonymous";
            return new Promise((resolve, reject) => {
                img.onload = () => resolve(img);
                img.onerror = reject;
                img.src = url;
            });
        }
    </script>
</body>
</html>
